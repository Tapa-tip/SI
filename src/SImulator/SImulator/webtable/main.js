var sigame;(()=>{"use strict";var e,t={1954:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(8081),a=n.n(r),o=n(3645),i=n.n(o)()(a());i.push([e.id,".numericTextBox{width:50px}",""]);const s=i},1697:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(8081),a=n.n(r),o=n(3645),i=n.n(o)()(a());i.push([e.id,".progress{background-color:#d3d3d3;border-radius:0;height:5px;overflow:hidden;position:absolute;top:0;width:100%;z-index:2}.progress.indeterminate{background-color:#00008b}.progress-bar{background-color:#183cf3;background:linear-gradient(90deg,#00008b,#183cf3,#00008b);height:5px}.progress.indeterminate .progress-bar{animation:moveLeft;animation-duration:2s;animation-iteration-count:infinite;position:relative;width:100px}@keyframes widthZero{to{width:0}}@keyframes moveLeft{0%{left:0}to{left:100%}}",""]);const s=i},1651:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(8081),a=n.n(r),o=n(3645),i=n.n(o)()(a());i.push([e.id,".volumeButton{border-width:0;bottom:10px;font-size:40px;position:absolute;right:40px;width:70px}.volumeButtonControl{bottom:80px;cursor:grab;position:absolute;right:10px}.volumeButtonControl:active{cursor:grabbing}",""]);const s=i},9394:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(8081),a=n.n(r),o=n(3645),i=n.n(o)()(a());i.push([e.id,".answerOptions{flex-direction:column}.answerOption,.answerOptions{display:flex;flex:1 0 0;overflow:hidden}.answerOption{align-items:center;background-color:rgba(0,0,0,.3);flex-direction:row;justify-content:center;padding:10px;transition:background-color 1s}.answerOptions.selectable .answerOption.normal{cursor:pointer}.answerOptions.selectable .answerOption.normal:hover{background:#bdbda6}.answerOptions.selectable .answerOption.normal:active{transform:scale(.9)}.answerOption:not(:first-child){margin-top:5px}.answerOption.active{background-color:#ffffe0}.answerOption.right{background-color:green}.answerOption.wrong{background-color:darkred}.answerOption.active:hover{background-color:rgba(0,0,0,.2)}.optionLabel{color:cyan;flex:0 0 30px;font-size:25px;margin-right:10px}.optionContent{color:#fff;flex:1;overflow:hidden;text-align:center}.optionContent,.optionContent div{align-items:center;display:flex;height:100%;justify-content:center}.optionContent div{width:100%}",""]);const s=i},5723:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(8081),a=n.n(r),o=n(3645),i=n.n(o)()(a());i.push([e.id,"#table{background-color:#000451;background:radial-gradient(#0009ad,#000451);display:flex;flex:1 0 0;flex-direction:column;margin:0;overflow:hidden;position:relative}.tableCaption{align-items:center;background-color:rgba(0,0,0,.3);color:#fff;display:flex;flex:0;font-family:SI;font-size:22px;justify-content:center;padding:2px 0}.tableContent{display:flex;flex:1;overflow:hidden;position:relative}#table .pauseLogo{background-color:rgba(0,0,0,.4);bottom:0;left:0;position:absolute;right:0;text-shadow:2px 2px 0 #000;top:0}#table .pauseLogo.warning{color:#a9a9a9}#table .answerBlock,#table .centerBlock{align-items:center;display:flex;justify-content:center;text-align:center}#table .answerBlock{background-color:rgba(0,0,0,.333);flex-grow:1;margin-bottom:40px;margin-top:40px;position:relative}#table .tableText{align-items:center;color:#fff;display:flex;font-family:SI;font-size:36px;height:100%;padding:5px;text-shadow:1px 1px 0 #000;white-space:pre-line;width:100%}#table .tableTextCenter{justify-content:center;text-align:center}#table .tableGameThemes{color:#fff;font-family:SI;font-size:36px;position:absolute;text-align:center;text-shadow:1px 1px 0 #000;top:100%;transition:top 10s linear;width:100%}#table .scaleText{height:100%;transform:scale(0);transition:transform .2s linear;width:100%}@keyframes blink{0%{background:transparent}to{background:#ffffe0}}#table .roundTable .questHeader.blink{animation:blink;animation-duration:1s;animation-fill-mode:forwards;color:#00008b}#table .specialTable{color:#fff;display:flex;flex-direction:row;font-family:SI;height:calc(100% + 2px);margin:0 -1px -1px 0;text-align:center;text-shadow:1px 1px 0 #000;width:calc(100% + 1px)}#table .specialThemes{display:flex;flex:0 0 40%;flex-direction:column;height:100%}#table .specialTheme{align-items:center;border:1px solid #fff;display:flex;flex:1 0 0;height:100%;justify-content:center;margin:-1px 0 0 -1px;padding:7px}#table .specialTheme.active{background:#ffffe0;color:#00008b}#table .specialHost{flex:1 0 0;padding:10px}#table .finalTable{color:#fff;display:flex;flex-direction:column;font-family:SI;height:calc(100% - 40px);margin:20px;text-shadow:1px 1px 0 #000;width:100%}#table .finalTableCell{align-items:center;display:flex;flex:1 0 0;justify-content:center;margin:4px;overflow:hidden;padding:7px}#table .finalTableCell.blink{animation:blink;animation-duration:1s;animation-fill-mode:forwards;color:#00008b}#table .finalTable .finalTableCell.active{background-color:rgba(0,0,0,.3)}#table .finalTable.selectable .finalTableCell.active:hover{background:#bdbda6;cursor:pointer}.commonProgress{height:10px}.commonProgress.captioned{margin-top:28px}.commonProgress .progress-bar{background:#ffbc3e;height:10px}@media screen and (min-width:1100px){#table .tableText{padding:10px}.tableCaption{font-size:25px}.commonProgress.captioned{margin-top:35px}}",""]);const s=i},1214:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(8081),a=n.n(r),o=n(3645),i=n.n(o)()(a());i.push([e.id,".frame{height:100%;width:100%}",""]);const s=i},8990:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(8081),a=n.n(r),o=n(3645),i=n.n(o)()(a());i.push([e.id,".spinnerImg{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0}.image-host{display:flex;justify-content:center;overflow:hidden;position:relative}.inGameImg{max-height:100%;max-width:100%;-o-object-fit:contain;object-fit:contain}",""]);const s=i},382:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(8081),a=n.n(r),o=n(3645),i=n.n(o)()(a());i.push([e.id,"#table .tableText.nonAligned{align-items:flex-start;color:#2ff}.animatablePartialCharacter{animation:animateOpacity .5s forwards;opacity:0}@keyframes animateOpacity{to{opacity:1}}#table .invisible{color:transparent;letter-spacing:3px;text-shadow:none}",""]);const s=i},2236:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(8081),a=n.n(r),o=n(3645),i=n.n(o)()(a());i.push([e.id,"#table .roundTable{color:#fff;display:flex;flex-direction:column;font-family:SI;height:calc(100% + 2px);margin:0 -1px -1px 0;overflow:hidden;text-align:center;text-shadow:1px 1px 0 #000;width:calc(100% + 1px)}@keyframes roundRows{to{transform:translate(0)}}#table .roundTable .roundTableRow{align-items:center;animation:roundRows;animation-duration:.5s;animation-fill-mode:forwards;display:flex;flex:1 0 0;justify-content:center;margin-top:5px;overflow:hidden}#table .roundTable .roundTableRow.left{transform:translate(-100%)}#table .roundTable .roundTableRow.right{transform:translate(100%)}#table .roundTable .roundTableCell{align-items:center;background-color:transparent;display:flex;height:100%;justify-content:center;margin-left:5px;overflow:hidden;padding:4px;transition:background-color 1s,transform .2s}#table .roundTable .themeHeader{background-color:rgba(0,0,0,.05);background:linear-gradient(90deg,transparent,rgba(0,0,0,.1));flex:0 0 40%}#table .roundTable .questHeader{flex:1 0 0}#table .roundTable .questHeader.active{background-color:rgba(0,0,0,.2)}#table .roundTable.selectable .questHeader.active{cursor:pointer}#table .roundTable.selectable .questHeader.active:hover{background:#bdbda6}#table .roundTable.selectable .questHeader.active:active{transform:scale(.9)}#table .roundTable .questHeader.editable{background-color:hsla(0,0%,100%,.5);cursor:pointer}#table .roundTable .questHeader.editable:hover{background-color:rgba(0,255,0,.8)}#table .roundTable .questHeader.editable.active:hover{background-color:rgba(255,0,0,.8)}",""]);const s=i},5850:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(8081),a=n.n(r),o=n(3645),i=n.n(o)()(a());i.push([e.id,"#table .tableBorder{border:10px solid transparent;flex-grow:1}#table .tableBorderCentered{align-items:center;display:flex;flex-grow:1;justify-content:center}.tableBorder .topBorder{background-color:#fff;height:10px;left:auto;position:absolute;right:auto;top:0;width:100%}.tableBorder .bottomBorder.animate,.tableBorder .topBorder.animate{animation-fill-mode:forwards;animation-name:animateWidth;animation-timing-function:linear}.tableBorder .rightBorder{background-color:#fff;bottom:auto;height:100%;position:absolute;right:0;top:auto;width:10px}.tableBorder .bottomBorder{background-color:#fff;bottom:0;height:10px;left:auto;position:absolute;right:auto;width:100%}.tableBorder .leftBorder{background-color:#fff;bottom:auto;height:100%;left:0;position:absolute;top:auto;width:10px}.tableBorder .leftBorder.animate,.tableBorder .rightBorder.animate{animation-fill-mode:forwards;animation-name:animateHeight;animation-timing-function:linear}@keyframes animateWidth{to{width:0}}@keyframes animateHeight{to{height:0}}",""]);const s=i},3920:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(8081),a=n.n(r),o=n(3645),i=n.n(o)()(a());i.push([e.id,".table-content-group{grid-gap:7px;display:grid;gap:7px;overflow:hidden;width:100%}.table-content{align-items:center;justify-content:center}.optionsLayout,.table-content{display:flex;height:100%;overflow:hidden;width:100%}.optionsLayout{flex-direction:row}.mainContent{align-items:center;display:flex;flex:3 0 0;flex-direction:column;height:100%;justify-content:center;overflow:hidden}.clef{color:#fff;font-family:Clefs;font-size:120px;font-style:normal;font-weight:400;text-shadow:1px 1px 0 #000}",""]);const s=i},2579:(e,t,n)=>{n.d(t,{Z:()=>d});var r=n(8081),a=n.n(r),o=n(3645),i=n.n(o),s=n(1667),c=n.n(s),l=new URL(n(2271),n.b),u=i()(a()),p=c()(l);u.push([e.id,".logoBlock{display:flex;flex-direction:column;width:100%}.tableLogo{background-image:url("+p+");background-position:50%;background-repeat:no-repeat;background-size:contain;flex:1 0 0;width:100%}.tableLogoAuthor{color:#fff;flex:0 0 50px;font-family:SI;font-size:40px;margin-bottom:13px;margin-right:50px;text-align:right;text-shadow:1px 1px 0 #000;width:100%}",""]);const d=u},5105:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(8081),a=n.n(r),o=n(3645),i=n.n(o)()(a());i.push([e.id,".tableRound{animation:round-appear 3s forwards;opacity:0}@keyframes round-appear{0%{opacity:0}to{opacity:1}}",""]);const s=i},5774:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(8081),a=n.n(r),o=n(3645),i=n.n(o)()(a());i.push([e.id,".animatableCharacter{animation:color-change .5s forwards}@keyframes color-change{to{color:#2ff}}.textHost{flex:1 0 0;overflow:hidden;width:100%}",""]);const s=i},6226:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(8081),a=n.n(r),o=n(3645),i=n.n(o)()(a());i.push([e.id,".video-host{display:flex;justify-content:center;overflow:hidden}",""]);const s=i},8710:(e,t,n)=>{n.d(t,{Z:()=>d});var r=n(8081),a=n.n(r),o=n(3645),i=n.n(o),s=n(1667),c=n.n(s),l=new URL(n(3990),n.b),u=i()(a()),p=c()(l);u.push([e.id,"#playersPanel{flex:0.5;margin:0}.gamePlayers{background-color:#c0cff4;display:flex;flex-direction:column;height:100%;justify-content:stretch;margin:0;min-height:50px;padding:0;width:100%}.gamePlayers li{background-color:transparent;display:flex;flex-grow:1;height:50px;justify-content:center;list-style-type:none;margin:.5px;min-width:0;position:relative}.gamePlayers .playerCard{display:flex;height:100%;justify-content:center;padding:2px;width:100%}.gamePlayers .playerInfo{display:flex;flex:1;flex-flow:column;font-weight:bolder;justify-content:center}.gamePlayers li.me .name,.gamePlayers li.me .stakeHost,.gamePlayers li.me .sum{color:orange}.gamePlayers li.selectable{cursor:pointer}.gamePlayers li.selectable:hover{background-color:orange!important}.gamePlayers .stake{font-weight:700;margin-left:3.5px;padding-left:3.5px}.gamePlayers .name,.gamePlayers .sum{display:block;margin:0 1px}.gamePlayers .stakeHost{display:none}.gamePlayers .name,.gamePlayers .stakeHost,.gamePlayers .sum{overflow:hidden;text-align:center;text-overflow:ellipsis;white-space:nowrap}.gamePlayers .playerReplic{animation:replicfadein 1s;background-color:#ffe;box-shadow:0 0 10px #000;left:100%;padding:5px;position:absolute;top:0;width:200px;z-index:3}.gamePlayers .playerReplic,.gamePlayers .playerReplicText{align-items:center;display:flex;height:100%;justify-content:center;text-align:center}.gamePlayers .playerReplicText{width:100%}.gamePlayers .replicLink{background:#ffe;box-shadow:12px 11px 10px -4px #000;height:10px;left:-5px;position:absolute;transform:rotate(135deg);width:10px;z-index:1}@keyframes replicfadein{0%{opacity:0}to{opacity:1}}.playerAvatar{background-position:50%;background-repeat:no-repeat;background-size:contain;flex:0.3;height:100%;min-width:10px;overflow:hidden}.gamePlayer{background-color:transparent;transition:background-color 1s,opacity 1s}.gamePlayer.state_press{background-color:#ff7}.gamePlayer.state_lost{background-color:#ffac59}.gamePlayer.state_right{background-color:#45bd2d}.gamePlayer.state_wrong{background-color:#af3333}.gamePlayer.state_hasanswered{background-color:#9400d3}.gamePlayer.state_pass{background-color:gray}.gamePlayer.out_of_game{opacity:.5}.gamePlayer.selectable{background-color:#ffffe0}.playerInfo .numericTextBox{font-size:smaller}.marksArea{bottom:0;position:absolute;right:0}.readyMark{font-size:15px}.chooserMark{background-color:rgba(0,0,0,.3);background-image:url("+p+");background-origin:content-box;background-position:50% 50%;background-repeat:no-repeat;background-size:contain;height:15px;padding:2px;width:15px}.mediaLoadedMark{background:green;border-color:#d3d3d3;border-style:solid;border-width:1px 1px 0 0;height:20px;width:20px}@media (max-width:600px),screen and (min-height:700px){#playersPanel{flex:0 0 75px}.gamePlayers .playerInfo .name,.gamePlayers .playerInfo .stakeHost{display:none}.gamePlayers .playerInfo .sum{margin-top:2px}.gamePlayers li.me .sum{color:#ff8c00;text-shadow:.5px .5px 0 gray}.gamePlayers{flex-direction:row}.gamePlayers .playerReplic{height:120px;left:50%;max-width:360px;min-width:180px;top:100%;transform:translate(-50%);width:100%}.gameMainView.reversed .gamePlayers .playerReplic{bottom:auto;top:27px}.gameMainView.reversed .gamePlayers .replicLink,.gamePlayers .replicLink{height:20px;left:auto;top:-10px;transform:rotate(225deg);width:20px}.playerAvatar{flex:3;min-width:28px}.gamePlayers li{flex:1;height:auto;margin:0}.gamePlayers .playerCard{flex-direction:column;padding:3px 1px 0}}@media screen and (min-width:800px) and (min-height:700px){.gamePlayers{justify-content:center}.gamePlayers li{max-width:200px}.readyMark{font-size:25px}.gamePlayers .name,.gamePlayers .sum{margin:0 3px}}@media screen and (min-width:1100px) and (min-height:700px){#playersPanel{flex:0.45 0 0!important}.playerAvatar{min-width:26px}#playersPanel .avatarFemale,#playersPanel .avatarMale{background-size:cover}.chooserMark{height:25px;width:25px}.gamePlayers .playerInfo .name,.gamePlayers .playerInfo .stakeHost{display:block!important}.gamePlayers li.me .sum{color:orange!important;text-shadow:none}.gamePlayers .playerInfo .sum{margin-top:0!important}.gamePlayers{background-color:transparent;flex-flow:initial;margin:0 9px;width:calc(100% - 18px)}.gamePlayers li{flex:1;flex-flow:column;height:100%;margin:10px 1px!important}.gamePlayers .playerCard{flex-direction:column;padding:10px}.gamePlayers .playerInfo{background-color:rgba(0,0,0,.5);color:#fff}.playerAvatar{flex:initial;height:60%;margin-right:5px}.gamePlayers .playerReplic{height:145px;padding:15px;top:55px!important}.gameMainView.reversed .gamePlayers .playerReplic{bottom:auto!important;top:55px!important}.gameMainView.reversed .gamePlayers .replicLink{bottom:-10px;height:20px;left:auto;top:auto;transform:rotate(45deg);width:20px}.gamePlayers .playerInfo{display:inline!important;display:initial!important;font-size:17px;padding:2px 0 0;width:auto}.gamePlayers .stakeHost{display:block}.gamePlayers .stake{margin-left:0;padding-left:0}.playerAvatar{margin-right:0}}@media screen and (min-width:1600px) and (min-height:700px){.gamePlayers li{height:100%;margin:5px!important}.gamePlayers .playerCard{padding:16px}.gamePlayers .playerReplic{height:169px!important;top:80px!important}.gameMainView.reversed .gamePlayers .playerReplic{bottom:auto!important;top:80px!important}.gamePlayers .playerInfo{font-size:30px;padding:3px}}",""]);const d=u},750:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(8081),a=n.n(r),o=n(3645),i=n.n(o)()(a());i.push([e.id,".showmanReplic{align-items:center;background-color:#ffffe0;display:flex;flex:1;justify-content:center;margin:0;overflow:hidden;padding:5px;text-align:center;transition:opacity 1s;width:100%}.showmanReplic.hidden{opacity:0}@media screen and (min-width:1100px){.showmanReplic{flex:1.5;padding:7px}}@media screen and (min-width:1600px){.showmanReplic{padding:12px}}",""]);const s=i},9304:(e,t,n)=>{n.r(t),n.d(t,{runTable:()=>Aa});var r,a=n(3935),o=n(8928),i=n(5857);!function(e){e[e.AnyRole=0]="AnyRole",e[e.OnlyViewer=1]="OnlyViewer",e[e.Forbidden=2]="Forbidden"}(r||(r={}));const s=r;var c,l={persons:{all:{},showman:{name:"",isReady:!1,replic:null,isDeciding:!1,isHuman:!0},players:[],hostName:null},role:1,answer:null,lastReplic:null,stage:{name:"",roundIndex:-1,isGamePaused:!1,isEditEnabled:!1,isGameStarted:!1,isDecisionNeeded:!1,isAnswering:!1,isAfterQuestion:!1,themeIndex:-1,currentPrice:0,themeName:""},timers:{round:{state:1,isPausedBySystem:!0,isPausedByUser:!1,value:0,maximum:0},press:{state:1,isPausedBySystem:!0,isPausedByUser:!1,value:0,maximum:0},decision:{state:1,isPausedBySystem:!0,isPausedByUser:!1,value:0,maximum:0}},showMainTimer:!1,selection:{isEnabled:!1,message:""},stakes:{areVisible:!1,areSimple:!1,allowedStakeTypes:(c={},c[0]=!1,c[1]=!1,c[2]=!1,c[3]=!1,c),minimum:0,maximum:0,step:0,stake:0,message:""},validation:{isVisible:!1,header:"",name:"",message:"",rightAnswers:[],wrongAnswers:[],showExtraRightButtons:!1},chat:{isVisible:!1,isActive:!1,mode:0,message:"",messages:[],selectedPersonName:null},selectedTableIndex:-1,personsVisible:!1,tablesVisible:!1,bannedVisible:!1,gameInfoVisible:!1,manageGameVisible:!1,isGameButtonEnabled:!0,areSumsEditable:!1,readingSpeed:20,areApellationsEnabled:!0,hint:null,roundsNames:null,buttonBlockingTimeSeconds:3,metadata:{gameName:null,packageName:null,contactUri:null,voiceChatUri:null},banned:{entries:{},selectedIp:null},joinMode:s.AnyRole};const u={KEY_ENTER:13,KEY_ENTER_NEW:"Enter",KEY_CTRL:"Control",KEY_RIGHT:"ArrowRight",KEY_ESCAPE:27,ANY_NAME:" ",MIN_PLAYER_COUNT:2,MAX_PLAYER_COUNT:12,HIDDEN_STAKE:-4,WIDE_WINDOW_WIDTH:1100,AVATAR_KEY:"avatar",AVATAR_NAME_KEY:"avatarName",LARGE_CONTENT_WEIGHT:5};var p,d={soundVolume:1,sound:!0,appSound:!1,mainMenuSound:!1,showPersonsAtBottomOnWideScreen:!0,floatingControls:!1,sex:0,avatarKey:null,appSettings:{culture:null,oral:!1,oralPlayersActions:!0,falseStart:!0,hintShowman:!1,partialText:!1,allowEveryoneToPlayHiddenStakes:!0,playAllQuestionsInFinalRound:!1,displaySources:!1,readingSpeed:20,managed:!1,ignoreWrong:!1,timeSettings:{timeForChoosingQuestion:30,timeForThinkingOnQuestion:5,timeForPrintingAnswer:25,timeForGivingACat:30,timeForMakingStake:30,timeForThinkingOnSpecial:25,timeOfRound:660,timeForChoosingFinalTheme:30,timeForFinalThinking:45,timeForShowmanDecisions:30,timeForRightAnswer:2,timeForMediaDelay:0,timeForBlockingButton:3},usePingPenalty:!1,buttonPressMode:0,preloadRoundContent:!0,useApellations:!0},gameButtonKey:u.KEY_CTRL,nextButtonKey:u.KEY_RIGHT,isLobbyChatHidden:!1,areValidationAnswersHidden:!1,bindNextButton:!0,attachContentToTable:!0},m={mode:1,layoutMode:0,caption:"",text:"",tail:"",audio:"",animateReading:!1,canPress:!1,canPressUpdateTime:0,gameThemes:[],roundInfo:[],isSelectable:!1,activeThemeIndex:-1,actionQuestionIndex:-1,isMediaStopped:!1,content:[],answerOptions:[],prependText:"",appendText:""},h={login:"",avatar:null},g={inProgress:!1,errorMessage:null},f={computerAccounts:null,isConnected:!0,serverName:null,serverLicense:null,maxPackageSizeMb:100,error:null,askForConsent:!0,avatarLoadProgress:!1,avatarLoadError:null},y={authors:{},isLoading:!1,packages:{packages:[],total:0},publishers:{},tags:{},languages:{},restrictions:[],error:""};!function(e){e[e.Loading=0]="Loading",e[e.Login=1]="Login",e[e.Welcome=2]="Welcome",e[e.NewGame=3]="NewGame",e[e.Games=4]="Games",e[e.Lobby=5]="Lobby",e[e.About=6]="About",e[e.Game=7]="Game",e[e.Error=8]="Error"}(p||(p={}));const E=p;var A,b={mainView:E.Loading,previousMainView:E.Loading,onlineView:0,windowWidth:window.innerWidth,windowHeight:window.innerHeight,areSettingsVisible:!1,isSettingGameButtonKey:!1};!function(e){e[e.Information=0]="Information",e[e.Warning=1]="Warning",e[e.System=2]="System"}(A||(A={}));const v=A,S=new(n(2694).Z)({en:{about:["SIGame is an intellectual quiz in which everyone can test their knowledge and reaction speed and fight against opponents.","Game rules are very simple: all questions in the game are divided into themes,\n\t\t\t and each question in the theme has its own price.\n\t\t\t Each player has a personal score, which at the beginning of the game is 0.\n\t\t\t A question is presented, after which a frame appears on the screen indicating that you can press the button and answer.\n\t\t\t If the player knows the answer, he/she can press the red button. The player who presses the button earlier than others\n\t\t\t (and will not have a false start), gives an answer. If the answer is correct, the question price is added to the player's score;\n\t\t\t otherwise - the price is substracted from the score. \n\t\t\t In the latter case, other players can try their luck and press the button to answer.",'There are also special questions in the game. \n\t\t\tIn the "Stake Question" the participants bid for a question, and the player with the highest bet answers. \n\t\t\tIn this case, the "All-in" bet (the bet which is equal to the whole player score) can only be outbid by another "All-in".','"Secret Question" must be given to another player. \n\t\t\tThe player who received it must (if it is included in the question) choose the price of the question and answer it. \n\t\t\tThe theme of the question may differ from the main theme in which the question was opened.','"No-risk Question" is answered by the player who opened it. \n\t\t\tIn case of a correct answer to the question, he receives doubled question price. \n\t\t\tIn case of an incorrect answer to the question, the player loses nothing.',"The game can also have a final round in which each of the players makes a bet. \n\t\t\tA question is asked, time is given for thinking, and each of the players submits their answer to the host. \n\t\t\tAfter that, the correct answer is announced, and each of the players receives or loses money according to their bet.","The game winner is the player with the highest score after the last question.","The game button can also be activated using the Ctrl key or the right mouse button."],aboutAuthor:"Author",aboutSupport:"Technical support",aboutTitle:"About",acceptLicense:"Accept license",addTable:"Add table",all:"All",allIn:"ALL IN!",allowEveryoneToPlayHiddenStakes:"Everybody could play all stakes (final) question",allowEveryoneToPlayHiddenStakesHint:"even having 0 or negative score",answer:"Answer",answerChecking:"Answer check",anyonePlay:"Play with random opponents",apellateAnswer:"Apellate answer",apellation:"Apellation",appName:"SIGame",appUser:"SIGame",ascending:"ascending",attachContentToTable:"Add theme comments and right answers to game table",audio:"Audio",authorInfo:"Vladimir Khil",autoSearch:"Fast room",autoSearchHint:"Find a room with an open slot or create a new one",avatar:"Avatar",avatarIsTooBig:"Avatar exceeds maximum size!",badPackage:"Bad question package!",ban:"Ban",bannedList:"Banned list",bindNextButton:"Activate 'Next' button by Right keyboard button",bot:"Bot",buttonPressMode:"Button press mode",buttonPressModeFirstWins:"Who pressed first",buttonPressModeRandomWithinInterval:"Random from early pressers",by:"by",byGame:"by game",cannotConnectToServer:"Cannot connect to server",changeSums:"Change sums",changeToBot:"Change to bot",changeToHuman:"Change to human",chat:"Chat",chooserMark:"Question chooser mark",close:"Close",common:"Common",complain:"Complain",complainHint:"The question contains spelling or factual error",composer:"Composer",computer:"Bot",computerAccountsMissing:"Computer accounts not loaded. Try to reload the game",computerPlayers:"Bots:",connectionClosed:"Server connection lost!",connectionReconnecting:"Connection lost, trying to reconnect…",connectionReconnected:"Connection restored!",contactUri:"Authors contact",content:"Content",cookiesConfirm:"Accept cookies",cookiesWarning:"This application uses cookies. If you stay on this page, you ageee with that",copyText:"Copy text to clipboard",corruptedPackage:"Question package is corrupted!",created:"Created",createOwnPackage:"Create your own package",defaultShowman:"Leonardo da Vinci",deleteAvatar:"Delete avatar",deleteTable:"Delete table",descending:"descending",designer:"Designer",designerInfo:"Alexander Kuznetsov",disableSound:"Disable sound",displaySources:"Display questions sources",donate:"Donate",downloadCount:"Download count",duplicateUserName:"A user with this name is already logged on the server!",duration:"Duration",editTable:"Edit game table",enableSound:"Enable sound",enter:"Sign in",errorBadPackage:"Bad question package!",errorDuplicateGameName:"A game with the provided name already exists!",errorHappened:"Error happened!",errorInternalServerError:"Cannot create the game because of the server error!",errorObsoleteVersion:"Your game version is outdated. Update the game",errorPackageNotFound:"Cannot create the game because the question package was not found!",errorServerNotReady:"Server is not ready to start a game",errorServerUnderMaintainance:"Server is under maintenance! Please reconnect after a while.\n\t\tWe apologize for any inconvenience.",errorTolerant:"right to make a mistake",errorTooManyGames:"The maximum number of running games on the server has been exceeded! Please, try again later.",errorUnknownError:"Unable to create the game for unknown reason!",exit:"Exit",exitConfirmation:"Really exit?",exitError:"Cannot exit game!",exitFromGame:"Leave game",falseStarts:"False starts",falseStartsHint:"you can not press the button before the end of the question reading",female:"woman",file:"File with questions",filter:"Filter",final:"Final",floatingControls:"Auto-hide game controls",forbiddenNickname:"This nickname is forbidden on the server!",freeTable:"Free table",friendsPlay:"Play with friends",game:"Game",gameAuthor:"Game author",gameButton:"Game button",gameButtonKey:"Game button key",gameCount:"Game count",gameDuration:"Game duration",gameFinished:"Game finished",gameInfo:"Game info",gameJoin:"Join game",gameManageHint:"Manage game state",gameName:"Room name",gameNameMustBeSpecified:"Game name required!",gameLoading:"Game loading…",gameOf:"Game by",games:"Rooms",gameStarted:"Game started",gamesStatistics:"Games for the last 24 hours",gamesTitle:"Find a room in the list or create a new one",gameType:"Game type",gameTypeClassicHint:"Questions are selected by players",gameTypeSimpleHint:"Questions are played sequentially",giveTurn:"Change active player",giveTurnHint:"Select new active player",greeting:"Welcome to SIGame!",hideAnswers:"Hide answers",hideChat:"Hide chat",hintShowman:"Provide right answers to the showman in advance",host:"Host",hostNameChanged:"Game host has been changed by {0} to {1}",hour:"hour",hours2:"hours",hours5:"hours",html:"HTML",human:"Human",humanPlayers:"Humans:",iAmRightFemale:"I am right!",iAmRightMale:"I am right!",iDisagree:"I disagree!",iDisagreeHint:"Disagree with someone else answer",images:"Images",inviteLink:"Invite by link",inviteLinkCopied:"Invite link copied to clipboard!",ignoreWrong:"Do not subtract points for a wrong answer",isRightValidateIt:"is correct. Decide: should the answer be accepted?",joinAsPlayer:"Player",joinAsPlayerHint:"Join as player",joinAsShowman:"Showman",joinAsShowmanHint:"Join as showman",joinAsViewer:"Viewer",joinAsViewerHint:"Join as viewer",joinError:"Cannot join game",joinLobby:"Join lobby",joinMode:"Join mode",joinModeAnyRole:"Forbidden",joinModeForbidden:"Forbidden",joinModeViewer:"Only as viewer",kick:"Kick",language:"Language",languageDefault:"(default)",languageEn:"English",languageRu:"Русский",latestGames:"Latest games",library:"Library",librarySearchAll:"(all)",librarySearchLessOrEqual:"less than or equal to",librarySearchMoreOrEqual:"greater than or equal to",librarySearchNotSet:"(not set)",librarySelect:"Select",libraryTitle:"Questions library",license:"License",licenseAgreement:"By sending package to server, you agree with server license",licenseInfo:"License: any use of the game is allowed with the condition of attribution.",loading:"Loading…",logo:"Logo",mainMenuSound:"Main menu sound",male:"man",managed:"Managed game",managedHint:'The game continues only by pressing the "Next" button',mediaLoadedMark:"Media loaded",members:"Members",menu:"Menu",minute:"minute",minutes2:"minutes",minutes5:"minutes",name:"Name",new:"New",newGame:"New room",news:"News",next:"Next (→)",no:"No",nofalsestart:"without false starts",nominal:"Nominal",notSet:"Not set",noWarranty:"The game is distributed free of charge.\n\t\tThe author does not guarantee the correct operation of the game in arbitrary conditions\n\t\tand is not responsible for any consequences from the game usage.",ofGames:"games count",oral:"oral",oralGame:"Oral game",oralGameHint:"If the showman is a human. Good setting for live streaming. Players make a choice and give answers by voice",oralPlayersActions:"Allow players to make actions in oral game",orByFilling:"or by filling",packageIsTooBig:"Package exceeds maximum size!",packages:"Packages",packageAuthor:"Author",packageAuthors:"Authors",packageDifficulty:"Difficulty",packagePublishedDate:"Publish date",packagePublisher:"Publisher",packageRestriction:"Restriction",packageSubject:"Topic",page:"Page",partialText:"Partial question text",partialTextHint:"When playing without false starts, the question text is displayed in portions",pass:"Pass",password:"Password",passwordRequired:"Password is required to enter",pause:"Pause",pickAnEmoji:"Pick an emoji",playAllQuestionsInFinalRound:"Play all questions in final round",player:"Player",players:"Players",playersAnswer:"Player answer",preloadRoundContent:"Preload media content for all persons at the beginning of the round",questionCount:"Question count",questionPackage:"Question package",questionReadingSpeed:"Question reading speed",questionTypeNoRisk:"NO RISK QUESTION",questionTypeSecret:"SECRET QUESTION",questionTypeStake:"STAKE QUESTION",randomThemes:"Random themes",reactions:"Reactions",readyFemale:"Ready",readyMale:"Ready",reloadPage:"Reload page",replaceWith:"Replace with",resetToDefaults:"Reset to defaults",resetToDefaultsHint:"Resets all settings to their initial values",results:"Results",resume:"Resume",reviews:"Reviews",rightAnswer:"Right answer",rightAnswers:"Right answers",role:"Role",round:"Round",roundsAndThemes:"Round and themes",rules:"Rules",searchGames:"Rooms search",searchHint:"Start search to see rooms list",sec:"s",second:"second",seconds2:"seconds",seconds5:"seconds",select:"Select…",selectAvatar:"Select avatar",selectFirstPlayer:"Select a person to start round",selectStaker:"Select a person to make a stake",selectThemeDeleter:"Select a person to delete a theme",send:"Send",sendingPackage:"Sending package to server…",server:"Server",serverLicense:"Server license",settings:"Settings",set:"Set",setHost:"Set as host",sex:"Sex",showAnswers:"Show answers",showChat:"Show chat",showPersonsAtBottomOnWideScreen:"Show players at the bottom on a wide screen",showman:"Showman",singlePlay:"Play alone",size:"Size",sort:"Sort",sound:"Sound",soundApp:"Application sound",sourcesInfo:"Game source code page.",soundVolume:"Sound volume",sport:"Simple",sportPlural:"Simple",started:"Started",startGame:"Create room",startGameHint:"Start game without waiting for persons readiness",status:"Status",supportInfo:"Support page.",tableHint:"To answer the question, press the red button after the frame lights up on the screen",tableLogoAuthor:"by Vladimir Khil",tables:"Tables",text:"Text",theGameWillStartIn:"The game will start after",thePlayerThinksThatHisHerAnswer:"The player thinks the answer is correct",theme:"Theme",time:"Time",timeForBlockingButton:"Button lockout (when false starts are enabled)",timeForChoosingFinalTheme:"Choosing theme in Final round",timeForChoosingQuestion:"Choosing question",timeForFinalThinking:"Thinking in Final round",timeForGivingACat:"Giving Secret Question",timeForMakingStake:"Making stake in Stake Question and in Final round",timeForMediaDelay:"Pause before asking for answer when playing media",timeForPrintingAnswer:"Entering answer after pressing a button",timeForRightAnswer:"Printing right answer",timeForShowmanDecisions:"Showman decisions and answer validation",timeForThinkingOnQuestion:"Thinking on question",timeForThinkingOnSpecial:"Thinking on a special question",timeOfRound:"Round",tooManyGamesByIp:"Too many games on a single client IP!",topPackages:"Top packages for 24 hours",total:"Total:",trends:"Trends",tv:"Classic",tvPlural:"Classic",unban:"Remove ban",unknownError:"Unknown error",unsupportedBrowser:"Your browser is not supprted. Please, update or replace it",unsupportedMediaType:"Unsupported media type",uploadingImageError:"Avatar sending error",uploadingPackageError:"Package sending error",useApellations:"Answer apellations",useApellationsHint:'Buttons "I am right" and "I disagree"',usedComponents:"Game components and licenses:",usePingPenalty:"Slow down the players with good ping",userPackages:"",users:"Players",userUnbanned:"User {0} was unbanned",validateAnswer:"Is player answer correct?",video:"Video",viewer:"Viewer",viewers:"Viewers",voiceChat:"Voice chat",welcomeTitle:"Select an action",withoutPassword:"Without password",wrongAnswers:"Wrong answers",wrongGameSettings:"Wrong game settings!",yes:"Yes",youAreKicked:"You have been kicked from the game!",yourName:"Your name"},ru:{about:["SIGame — интеллектуальная викторина, в которой каждый может проверить свои знания и скорость реакции и сразиться с оппонентами.","Правила игры очень просты: все вопросы в игре поделены по темам, и у каждого вопроса в теме есть своя стоимость.\n\tУ каждого игрока имеется персональный счёт, который в начале игры равен 0.\n\tЗвучит вопрос, после которого на экране появляется рамка, показывающая, что можно отвечать.\n\tЕсли игрок знает ответ, он может нажать на красную кнопку. Тот из игроков, кто нажмёт на кнопку ранее\n\t(и не допустит фальстарта), и даёт ответ. В случае верного ответа стоимость вопроса прибавляется к счёту игрока;\n\tв случае неверного — снимается со счёта. В последнем случае другие игроки снова могут попытать счастья и нажать на кнопку для ответа.",'Также в игре могут встретиться специальные вопросы. В "Вопросе со ставкой" участники торгуются за вопрос, и отвечает на него тот игрок,\n\tкто поставит наибольшую сумму. При этом "Ва-банк" (т.е. ставка всей суммы на кон) может быть перебит только другим "Ва-банком".','"Вопрос с секретом" открывший его участник должен передать другому участнику. Получивший его игрок должен (если это заложено в вопросе)\n\tвыбрать стоимость вопроса и ответить на него. Тема вопроса может отличаться от основной темы, в которой находился вопрос.','На "Вопрос без риска" отвечает открывший его игрок. В случае правильного ответа на вопрос он получает удвоенную стоимость вопроса.\n\tВ случае неверного ответа на вопрос игрок ничего не теряет.',"В игре также может быть финальный раунд, в котором каждый из игроков делает ставку. Звучит вопрос, даётся время на размышление,\n\tи каждый из игроков письменно сдаёт свой ответ. После этого оглашается правильный ответ, и каждый из игроков получает или теряет деньги.","Победителем игры становится игрок, набравший после последнего вопроса наибольшую сумму.","Игровую кнопку можно также активировать при помощи клавиши Ctrl или правой кнопки мыши."],aboutAuthor:"Автор",aboutSupport:"Техническая поддержка",aboutTitle:"Об игре",acceptLicense:"Принять лицензию",addTable:"Добавить стол",all:"Все",allIn:"ВА-БАНК!",allowEveryoneToPlayHiddenStakes:"Все могут играть общий вопрос со ставками (финал)",allowEveryoneToPlayHiddenStakesHint:"даже с 0 или отрицательным счётом",answer:"Ответ",answerChecking:"Проверка ответа",anyonePlay:"Играть со случайными соперниками",apellateAnswer:"Апеллировать свой ответ",apellation:"Апелляция",appName:"SIGame",appUser:"SIGame",ascending:"по возрастанию",attachContentToTable:"Добавлять комментарии темы и правильный ответ на табло",audio:"Аудио",authorInfo:"Владимир Хиль",autoSearch:"Быстрая игра",autoSearchHint:"Найти комнату со свободным слотом или создать новую",avatar:"Аватар",avatarIsTooBig:"Аватар превышает максимальный размер!",badPackage:"Плохой пакет вопросов!",ban:"Забанить",bannedList:"Список забаненных",bindNextButton:"Активировать кнопку 'Далее' по стрелке вправо",bot:"Бот",buttonPressMode:"Режим нажатия кнопки",buttonPressModeFirstWins:"Кто первым нажал",buttonPressModeRandomWithinInterval:"Рандом из ранних нажавших",by:"от",byGame:"игрой",cannotConnectToServer:"Не удалось подключиться к серверу",changeSums:"Изменить суммы",changeToBot:"Заменить на бота",changeToHuman:"Заменить на человека",chat:"Чат",chooserMark:"Метка выбирающего вопрос",close:"Закрыть",common:"Общее",complain:"Пожаловаться",complainHint:"В вопросе содержится орфографическая или фактическая ошибка",composer:"Композитор",computer:"Бот",computerAccountsMissing:"Не загружены компьютерные аккаунты. Попробуйте перезагрузить игру",computerPlayers:"Боты:",connectionClosed:"Соединение с сервером разорвано!",connectionReconnecting:"Соединение потеряно, пытаемся переподключиться…",connectionReconnected:"Соединение восстановлено!",contactUri:"Контакты авторов",content:"Контент",cookiesConfirm:"Принять",cookiesWarning:"Это приложение использует куки-файлы. Оставаясь на странице, вы соглашаетесь с этим",copyText:"Скопировать текст в буфер обмена",corruptedPackage:"Пакет вопросов повреждён!",created:"Создана",createOwnPackage:"Создать свой пакет",defaultShowman:"Леонардо да Винчи",deleteAvatar:"Удалить аватар",deleteTable:"Удалить стол",descending:"по убыванию",designer:"Дизайнер",designerInfo:"Александр Кузнецов",disableSound:"Отключить звук",displaySources:"Показывать источники вопросов",donate:"Донат",downloadCount:"Число скачиваний",duplicateUserName:"Пользователь с таким именем уже вошёл на сервер!",duration:"Продолжительность",editTable:"Редактировать табло",enableSound:"Включить звук",enter:"Вход",errorBadPackage:"Плохой пакет вопросов!",errorDuplicateGameName:"Игра с таким именем уже существует!",errorHappened:"Произошла ошибка!",errorInternalServerError:"Не удалось создать игру на сервере из-за ошибки на сервере!",errorObsoleteVersion:"Ваша версия игры устарела. Обновите игру",errorPackageNotFound:"Не удалось создать игру на сервере, так как не был обнаружен игровой пакет!",errorServerNotReady:"Сервер не готов начать игру",errorServerUnderMaintainance:"Производится обслуживание сервера! Пожалуйста, подключитесь через некоторое время.\n\tПриносим извинения за доставленные неудобства.",errorTolerant:"право на ошибку",errorTooManyGames:"Превышено максимальное количество запущенных игр на сервере! Пожалуйста, подождите.",errorUnknownError:"Не удалось создать игру по неизвестной причине!",exit:"Выход",exitConfirmation:"Действительно выйти?",exitError:"Не удалось выйти из игры!",exitFromGame:"Выйти из игры",falseStarts:"Фальстарты",falseStartsHint:"нельзя нажимать на кнопку до окончания чтения вопроса",female:"женщина",file:"Файл с вопросами",filter:"Фильтр",final:"Финал",floatingControls:"Автоматическое скрытие элементов управления",forbiddenNickname:"На сервере запрещено использование такого ника!",freeTable:"Освободить стол",friendsPlay:"Играть с друзьями",game:"Игра",gameAuthor:"Автор программы",gameButton:"Игровая кнопка",gameButtonKey:"Клавиша игровой кнопки",gameCount:"Всего игр",gameDuration:"Общая продолжительность",gameFinished:"Игра окончена",gameInfo:"Информация об игре",gameJoin:"Вход в игру",gameManageHint:"Управление состоянием игры",gameName:"Название комнаты",gameNameMustBeSpecified:"Необходимо задать название игры!",gameLoading:"Идёт загрузка игры…",gameOf:"Игра от",games:"Комнаты",gameStarted:"Игра началась",gamesStatistics:"Игры за 24 часа",gamesTitle:"Найдите комнату в списке или создайте новую",gameType:"Тип игры",gameTypeClassicHint:"Вопросы выбираются игроками",gameTypeSimpleHint:"Вопросы играются по очереди",giveTurn:"Передать ход игроку",giveTurnHint:"Выберите, кому передать ход",greeting:"Добро пожаловать в SIGame!",hideAnswers:"Скрыть ответы",hideChat:"Скрыть чат",hintShowman:"Сообщать ведущему правильные ответы заранее",host:"Хост",hostNameChanged:"Хост игры был изменён {0} на {1}",hour:"час",hours2:"часа",hours5:"часов",html:"HTML",human:"Человек",humanPlayers:"Люди:",iAmRightFemale:"Я права!",iAmRightMale:"Я прав!",iDisagree:"Я против!",iDisagreeHint:"Оспорить чужой ответ",ignoreWrong:"Не снимать очки за неверный ответ",images:"Изображения",inviteLink:"Пригласить по ссылке",inviteLinkCopied:"Ссылка скопирована",isRightValidateIt:"верен. Примите решение: засчитать ли ответ?",joinAsPlayer:"Игрок",joinAsPlayerHint:"Войти игроком",joinAsShowman:"Ведущий",joinAsShowmanHint:"Войти ведущим",joinAsViewer:"Зритель",joinAsViewerHint:"Войти зрителем",joinError:"Не удалось подключиться к игре",joinLobby:"Войти в лобби",joinMode:"Режим входа",joinModeAnyRole:"С любой ролью",joinModeForbidden:"Вход запрещён",joinModeViewer:"Только зрителем",kick:"Выгнать",language:"Язык",languageDefault:"(по умолчанию)",languageEn:"English",languageRu:"Русский",latestGames:"Последние игры",library:"Библиотека",librarySearchAll:"(все)",librarySearchLessOrEqual:"меньше или равна",librarySearchMoreOrEqual:"больше или равна",librarySearchNotSet:"(не задано)",librarySelect:"Выбрать",libraryTitle:"Библиотека вопросов",license:"Лицензия",licenseAgreement:"Отправляя пакет на сервер, вы соглашаетесь с лицензией сервера",licenseInfo:"Лицензия: допускается любое использование игры с условием указания авторства.",loading:"Загрузка…",logo:"Логотип",mainMenuSound:"Мелодия главного меню",male:"мужчина",managed:"Управляемая игра",managedHint:'Игра продолжается только по нажатию кнопки "Дальше"',mediaLoadedMark:"Мультимедиа загружено",members:"Участники",menu:"Меню",minute:"минута",minutes2:"минуты",minutes5:"минут",name:"Имя",new:"Новые",newGame:"Новая комната",news:"Новости",next:"Дальше (→)",no:"Нет",nofalsestart:"без фальстартов",nominal:"Номинал",notSet:"Не задана",noWarranty:"Игра распространяется бесплатно. Автор не гарантирует корректность работы игры в произвольных условиях\n\tи не несёт ответственности за любые последствия от использования игры.",ofGames:"игр",oral:"устная",oralGame:"Устная игра",oralGameHint:"Если ведущий – человек. Хорошо подходит для стримов. Игроки делают выбор и дают ответ голосом",oralPlayersActions:"Разрешать игрокам делать выбор в устной игре",orByFilling:"или по заполнению",packageIsTooBig:"Пакет превышает максимальный размер!",packages:"Пакеты",packageAuthor:"Автор",packageAuthors:"Авторы",packageDifficulty:"Сложность",packagePublishedDate:"Дата публикации",packagePublisher:"Издатель",packageRestriction:"Ограничение",packageSubject:"Тематика",page:"Страница",partialText:"Частичный текст вопросов",partialTextHint:"При игре без фальстартов текст выводится порционно",pass:"Пас",password:"Пароль",passwordRequired:"Требуется пароль для входа",pause:"Пауза",pickAnEmoji:"Выбрать эмодзи",playAllQuestionsInFinalRound:"Играть все вопросы в финальном раунде",player:"Игрок",players:"Игроки",playersAnswer:"Ответ игрока",preloadRoundContent:"Предзагружать медиаконтент всем участникам в начале раунда",questionCount:"Число вопросов",questionPackage:"Пакет вопросов",questionReadingSpeed:"Скорость чтения вопроса",questionTypeNoRisk:"ВОПРОС БЕЗ РИСКА",questionTypeSecret:"ВОПРОС С СЕКРЕТОМ",questionTypeStake:"ВОПРОС СО СТАВКОЙ",randomThemes:"Случайный набор тем",reactions:"Реакции",readyFemale:"Готова",readyMale:"Готов",reloadPage:"Обновить страницу",replaceWith:"Заменить на",resetToDefaults:"По умолчанию",resetToDefaultsHint:"Сбрасывает все настройки в их исходное состояние",results:"Результаты",resume:"Продолжить",reviews:"Отзывы",rightAnswer:"Правильный ответ",rightAnswers:"Правильные ответы",role:"Роль",round:"Раунд",roundsAndThemes:"Раунды и темы",rules:"Правила",searchGames:"Поиск комнат",searchHint:"Начните поиск, чтобы увидеть список комнат",sec:"с",second:"секунда",seconds2:"секунды",seconds5:"секунд",select:"Выбрать…",selectAvatar:"Выбрать аватар",selectFirstPlayer:"Выберите начинающего раунд",selectStaker:"Выберите ставящего",selectThemeDeleter:"Выберите убирающего тему",send:"Отправить",sendingPackage:"Отправка пакета на сервер…",server:"Сервер",serverLicense:"Лицензия сервера",settings:"Настройки",set:"Задать",setHost:"Сделать хостом",sex:"Пол",showAnswers:"Показать ответы",showChat:"Показать чат",showPersonsAtBottomOnWideScreen:"Показывать участников внизу окна на широком экране",showman:"Ведущий",singlePlay:"Играть с компьютером",size:"Размер",sort:"Сортировка",sound:"Звук",soundApp:"Звук приложения",soundVolume:"Громкость звука",sourcesInfo:"Страница исходного кода игры.",sport:"Упрощённая",sportPlural:"Упрощённые",started:"Начата",startGame:"Создать комнату",startGameHint:"Начать игру, не дожидаясь готовности участников",status:"Статус",supportInfo:"Страница технической поддержки.",tableHint:"Для ответа на вопрос нажимайте на красную кнопку после загорания рамки на экране",tableLogoAuthor:"Автор игры - Владимир Хиль",tables:"Столы",text:"Текст",theGameWillStartIn:"Игра начнётся через",thePlayerThinksThatHisHerAnswer:"Игрок считает, что его ответ",theme:"Тема",time:"Время",timeForBlockingButton:"Блокировка кнопки при фальстарте",timeForChoosingFinalTheme:"Выбор темы в финальном раунде",timeForChoosingQuestion:"Выбор вопроса",timeForFinalThinking:"Размышление в финале",timeForGivingACat:'Размышление на отдачу "Вопроса с секретом"',timeForMakingStake:'Размышление над ставкой в "Вопросе со ставкой" и в финале',timeForMediaDelay:"Пауза для медиаконтента",timeForPrintingAnswer:"Ввод ответа после нажатия кнопки",timeForRightAnswer:"Вывод правильного ответа",timeForShowmanDecisions:"Принятие решений и ответа ведущим",timeForThinkingOnQuestion:"Размышление над вопросом",timeForThinkingOnSpecial:"Размышление над спецвопросом",timeOfRound:"Раунд",tooManyGamesByIp:"Слишком много игр на одном адресе!",topPackages:"Лучшие пакеты за 24 часа",total:"Всего:",trends:"Тренды",tv:"Классическая",tvPlural:"Классические",unban:"Снять бан",unknownError:"Неизвестная ошибка",unsupportedBrowser:"Ваш браузер не поддерживается. Пожалуйста, обновите или замените его",unsupportedMediaType:"Неподдерживаемый тип медиа",uploadingImageError:"Ошибка отправки аватара",uploadingPackageError:"Ошибка отправки пакета",useApellations:"Апелляции ответов",useApellationsHint:'Кнопки "Я прав" и "Я против"',usedComponents:"Используемые в игре компоненты и их лицензии:",usePingPenalty:"Замедлять игроков с хорошим пингом",userPackages:"Пользовательские пакеты",users:"Игроки",userUnbanned:"Пользователь {0} был разбанен",validateAnswer:"Верен ли ответ игрока?",video:"Видео",viewer:"Зритель",viewers:"Зрители",voiceChat:"Голосовой чат",welcomeTitle:"Выберите действие",withoutPassword:"Без пароля",wrongAnswers:"Неправильные ответы",wrongGameSettings:"Неверные настройки игры!",yes:"Да",youAreKicked:"Вас выгнали из игры!",yourName:"Ваше имя"}});var T={inProgress:!1,error:"",gamesFilter:0,gamesSearch:"",games:{},selectedGameId:-1,users:[],currentMessage:"",messages:[{sender:S.appUser,text:S.greeting,level:v.System}],password:"",chatMode:0,newGameShown:!1,gameCreationProgress:!1,gameCreationError:null,joinGameProgress:!1,joingGameError:null,uploadPackageProgress:!1,uploadPackagePercentage:0},I={name:"",password:"",voiceChat:"",package:{type:0,name:"",data:null,id:null,uri:null},type:1,role:1,isShowmanHuman:!1,playersCount:3,humanPlayersCount:0,id:-1,isAutomatic:!1},w={user:h,login:g,ui:b,online:T,game:I,siPackages:y,room:l,table:m,common:f,settings:d},C=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))};function N(e,t,n){return C(C(C([],e.slice(0,t),!0),[n],!1),e.slice(t+1),!0)}var _,x=function(){return x=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},x.apply(this,arguments)},P=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function R(e,t,n){var r;return x(x({},e),((r={})[t]=n,r))}function O(e,t){var n=e,r=t;return n[r],P(n,["symbol"==typeof r?r:r+""])}function k(e,t){var n=e,r=t;return n[r],P(n,["symbol"==typeof r?r:r+""])}!function(e){e[e.None=0]="None",e[e.Press=1]="Press",e[e.Lost=2]="Lost",e[e.Right=3]="Right",e[e.Wrong=4]="Wrong",e[e.HasAnswered=5]="HasAnswered",e[e.Pass=6]="Pass"}(_||(_={}));const G=_;var M=function(){return M=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},M.apply(this,arguments)};function D(e,t,n){switch(t){case 0:return M(M({},e),{round:n(e.round)});case 1:return M(M({},e),{press:n(e.press)});case 2:return M(M({},e),{decision:n(e.decision)});default:return e}}function H(e){return 0===e.state&&!e.isPausedBySystem&&!e.isPausedByUser}var L=function(){return L=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},L.apply(this,arguments)},B=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))};const j=function(e,t){var n,r,a,o,i,s;void 0===e&&(e=l);var c,p,d,m,h,g,f,y=t;switch(y.type){case"ROOM_CHAT_MODE_CHANGED":return L(L({},e),{chat:L(L({},e.chat),{mode:y.chatMode})});case"ROOM_CHAT_MESSAGE_CHANGED":return L(L({},e),{chat:L(L({},e.chat),{message:y.message})});case"ROOM_CHAT_VISIBILITY_CHANGED":return L(L({},e),{chat:L(L({},e.chat),{isVisible:y.isOpen,isActive:!y.isOpen&&e.chat.isActive})});case"ROOM_SHOW_PERSONS":return L(L({},e),{personsVisible:!0});case"ROOM_HIDE_PERSONS":return L(L({},e),{personsVisible:!1});case"ROOM_SHOW_TABLES":return L(L({},e),{tablesVisible:!0});case"ROOM_HIDE_TABLES":return L(L({},e),{tablesVisible:!1});case"ROOM_SHOW_BANNED":return L(L({},e),{bannedVisible:!0});case"ROOM_HIDE_BANNED":return L(L({},e),{bannedVisible:!1});case"ROOM_SHOW_GAMEINFO":return L(L({},e),{gameInfoVisible:!0});case"ROOM_HIDE_GAMEINFO":return L(L({},e),{gameInfoVisible:!1});case"ROOM_SHOW_MANAGE_GAME":return L(L({},e),{manageGameVisible:!0});case"ROOM_HIDE_MANAGE_GAME":return L(L({},e),{manageGameVisible:!1});case"CHAT_MESSAGE_ADDED":return L(L({},e),{chat:L(L({},e.chat),{messages:B(B([],e.chat.messages,!0),[y.chatMessage],!1)})});case"LAST_REPLIC_CHANGED":return L(L({},e),{lastReplic:y.chatMessage,chat:L(L({},e.chat),{isActive:!!y.chatMessage||e.chat.isActive})});case"ACTIVATE_CHAT":return L(L({},e),{chat:L(L({},e.chat),{isActive:!0})});case"SHOWMAN_REPLIC_CHANGED":return L(L({},e),{persons:L(L({},e.persons),{showman:L(L({},e.persons.showman),{replic:y.replic}),players:e.persons.players.map((function(e){return L(L({},e),{replic:null})}))})});case"PLAYER_REPLIC_CHANGED":return L(L({},e),{persons:L(L({},e.persons),{showman:L(L({},e.persons.showman),{replic:null}),players:e.persons.players.map((function(e,t){return L(L({},e),{replic:t===y.playerIndex?y.replic:null})}))})});case"INFO_CHANGED":return L(L({},e),{persons:L(L({},e.persons),{all:y.all,showman:y.showman,players:y.players})});case"CHAT_PERSON_SELECTED":return L(L({},e),{chat:L(L({},e.chat),{selectedPersonName:y.personName})});case"TABLE_SELECTED":return L(L({},e),{selectedTableIndex:y.tableIndex});case"PERSON_AVATAR_CHANGED":return-1===Object.keys(e.persons.all).indexOf(y.personName)?e:L(L({},e),{persons:L(L({},e.persons),{all:L(L({},e.persons.all),(n={},n[y.personName]=L(L({},e.persons.all[y.personName]),{avatar:y.avatarUri}),n))})});case"GAME_STARTED":return L(L({},e),{stage:L(L({},e.stage),{isGameStarted:y.started})});case"STAGE_CHANGED":return L(L({},e),{stage:L(L({},e.stage),{name:y.stageName,roundIndex:y.roundIndex})});case"PLAYERS_STATE_CLEARED":return L(L({},e),{persons:L(L({},e.persons),{players:e.persons.players.map((function(e){return L(L({},e),{state:G.None,stake:0,mediaLoaded:!1})}))})});case"GAME_STATE_CLEARED":return L(L({},e),{stage:L(L({},e.stage),{isAfterQuestion:!1,isAnswering:!1,isDecisionNeeded:!1}),persons:L(L({},e.persons),{players:e.persons.players.map((function(e){return L(L({},e),{canBeSelected:!1,mediaLoaded:!1})}))}),validation:L(L({},e.validation),{isVisible:!1}),stakes:L(L({},e.stakes),{areVisible:!1,areSimple:!1})});case"ROOM_CHAT_CLEAR":return L(L({},e),{chat:L(L({},e.chat),{messages:[],message:""})});case"SUMS_CHANGED":return L(L({},e),{persons:L(L({},e.persons),{players:e.persons.players.map((function(e,t){return L(L({},e),{sum:t<y.sums.length?y.sums[t]:0})}))})});case"AFTER_QUESTION_STATE_CHANGED":return L(L({},e),{stage:L(L({},e.stage),{isAfterQuestion:y.isAfterQuestion})});case"CURRENT_PRICE_CHANGED":return L(L({},e),{stage:L(L({},e.stage),{currentPrice:y.currentPrice})});case"PERSON_ADDED":return e.persons.all[y.person.name]&&console.log("Person ".concat(y.person.name," already exists!")),L(L({},e),{persons:L(L({},e.persons),{all:R(e.persons.all,y.person.name,y.person)})});case"PERSON_REMOVED":return L(L({},e),{persons:L(L({},e.persons),{all:k(e.persons.all,y.name)})});case"SHOWMAN_CHANGED":return L(L({},e),{persons:L(L({},e.persons),{showman:L(L({},e.persons.showman),{name:y.name,isHuman:null!==(a=y.isHuman)&&void 0!==a?a:e.persons.showman.isHuman,isReady:null!==(o=y.isReady)&&void 0!==o?o:e.persons.showman.isReady})})});case"PLAYER_ADDED":return L(L({},e),{persons:L(L({},e.persons),{players:B(B([],e.persons.players,!0),[{name:u.ANY_NAME,sum:0,stake:0,state:G.None,canBeSelected:!1,isReady:!1,replic:null,isDeciding:!1,isHuman:!0,isChooser:!1,inGame:!0,mediaLoaded:!1}],!1)})});case"PLAYER_CHANGED":return y.index<0||y.index>=e.persons.players.length?(console.log("PlayerChanged: Wrong index ".concat(y.index,"!")),e):L(L({},e),{persons:L(L({},e.persons),{players:N(e.persons.players,y.index,L(L({},e.persons.players[y.index]),{name:y.name,isHuman:null!==(i=y.isHuman)&&void 0!==i?i:e.persons.players[y.index].isHuman,isReady:null!==(s=y.isReady)&&void 0!==s?s:e.persons.players[y.index].isReady}))})});case"PLAYER_DELETED":return y.index<0||y.index>=e.persons.players.length?(console.log("PlayerDeleted: Wrong index ".concat(y.index,"!")),e):L(L({},e),{persons:L(L({},e.persons),{players:B(B([],e.persons.players.slice(0,y.index),!0),e.persons.players.slice(y.index+1),!0)})});case"PLAYERS_SWAP":return L(L({},e),{persons:L(L({},e.persons),{players:(c=e.persons.players,p=y.index1,d=y.index2,m=Math.min(p,d),h=Math.max(p,d),g=c[m],f=c[h],C(C(C(C(C([],c.slice(0,m),!0),[f],!1),c.slice(m+1,h),!0),[g],!1),c.slice(h+1),!0))})});case"ROLE_CHANGED":return L(L({},e),{role:y.role});case"PLAYER_STATE_CHANGED":return L(L({},e),{persons:L(L({},e.persons),{players:N(e.persons.players,y.index,L(L({},e.persons.players[y.index]),{state:y.state}))})});case"PLAYER_LOST_STATE_DROPPED":return y.index<0||y.index>=e.persons.players.length?(console.log("PlayerLostStateDropped: Wrong index ".concat(y.index,"!")),e):e.persons.players[y.index].state!==G.Lost?e:L(L({},e),{persons:L(L({},e.persons),{players:N(e.persons.players,y.index,L(L({},e.persons.players[y.index]),{state:G.None}))})});case"IS_PAUSED_CHANGED":return L(L({},e),{stage:L(L({},e.stage),{isGamePaused:y.isPaused,isEditEnabled:y.isPaused&&e.stage.isEditEnabled})});case"PLAYER_STAKE_CHANGED":return L(L({},e),{persons:L(L({},e.persons),{players:N(e.persons.players,y.index,L(L({},e.persons.players[y.index]),{stake:y.stake}))})});case"DECISION_NEEDED_CHANGED":return L(L({},e),{stage:L(L({},e.stage),{isDecisionNeeded:y.decisionNeeded})});case"CLEAR_DECISIONS":return L(L({},e),{persons:L(L({},e.persons),{players:e.persons.players.map((function(e){return L(L({},e),{canBeSelected:!1})}))}),stage:L(L({},e.stage),{isAnswering:!1,isDecisionNeeded:!1}),validation:L(L({},e.validation),{isVisible:!1}),selection:L(L({},e.selection),{isEnabled:!1}),stakes:L(L({},e.stakes),{areSimple:!1,areVisible:!1}),answer:null,hint:null});case"IS_GAME_BUTTON_ENABLED":return L(L({},e),{isGameButtonEnabled:y.isGameButtonEnabled});case"IS_ANSWERING":return L(L({},e),{stage:L(L({},e.stage),{isAnswering:!0,isDecisionNeeded:!0}),answer:null});case"ANSWER_CHANGED":return L(L({},e),{answer:y.answer});case"VALIDATE":return L(L({},e),{answer:y.answer,validation:L(L({},e.validation),{isVisible:!0,rightAnswers:y.rightAnswers,wrongAnswers:y.wrongAnswers,header:y.header,name:y.name,message:y.message,showExtraRightButtons:y.showExtraRightButtons})});case"SET_STAKES":return L(L({},e),{stakes:{areVisible:!0,areSimple:y.areSimple,allowedStakeTypes:y.allowedStakeTypes,minimum:y.minimum,maximum:y.maximum,stake:y.stake,step:y.step,message:y.message}});case"STAKE_CHANGED":return L(L({},e),{stakes:L(L({},e.stakes),{stake:y.stake})});case"SELECTION_ENABLED":return L(L({},e),{persons:L(L({},e.persons),{players:e.persons.players.map((function(e,t){return L(L({},e),{canBeSelected:y.allowedIndices.includes(t)})}))}),selection:{isEnabled:!0,message:y.message},stage:L(L({},e.stage),{isDecisionNeeded:!0})});case"ARE_SUMS_EDITABLE_CHANGED":return L(L({},e),{areSumsEditable:y.areSumsEditable});case"READING_SPEED_CHANGED":return L(L({},e),{readingSpeed:y.readingSpeed});case"RUN_TIMER":return L(L({},e),{timers:D(e.timers,y.timerIndex,(function(e){return{state:0,isPausedByUser:!y.runByUser&&e.isPausedByUser,isPausedBySystem:!!y.runByUser&&e.isPausedBySystem,maximum:y.maximumTime,value:0}}))});case"PAUSE_TIMER":return L(L({},e),{timers:D(e.timers,y.timerIndex,(function(e){return L(L({},e),{state:0===e.state?2:e.state,isPausedByUser:!!y.pausedByUser||e.isPausedByUser,isPausedBySystem:!y.pausedByUser||e.isPausedBySystem,value:0===e.state?y.currentTime:e.value})}))});case"RESUME_TIMER":return L(L({},e),{timers:D(e.timers,y.timerIndex,(function(e){return L(L({},e),{state:0,isPausedByUser:!y.runByUser&&e.isPausedByUser,isPausedBySystem:!!y.runByUser&&e.isPausedBySystem})}))});case"STOP_TIMER":return L(L({},e),{timers:D(e.timers,y.timerIndex,(function(e){return L(L({},e),{state:1,isPausedByUser:!1,isPausedBySystem:!0,value:0})}))});case"TIMER_MAXIMUM_CHANGED":return L(L({},e),{timers:D(e.timers,y.timerIndex,(function(e){return L(L({},e),{maximum:y.maximumTime})}))});case"ACTIVATE_SHOWMAN_DECISION":return L(L({},e),{persons:L(L({},e.persons),{showman:L(L({},e.persons.showman),{isDeciding:!0})})});case"ACTIVATE_PLAYER_DECISION":return L(L({},e),{persons:L(L({},e.persons),{players:N(e.persons.players,y.playerIndex,L(L({},e.persons.players[y.playerIndex]),{isDeciding:!0}))})});case"SHOW_MAIN_TIMER":return L(L({},e),{showMainTimer:!0});case"CLEAR_DECISIONS_AND_MAIN_TIMER":return L(L({},e),{showMainTimer:!1,persons:L(L({},e.persons),{showman:L(L({},e.persons.showman),{isDeciding:!1}),players:e.persons.players.map((function(e){return L(L({},e),{isDeciding:!1})}))})});case"HINT_CHANGED":return L(L({},e),{hint:y.hint});case"OPERATION_ERROR":return L(L({},e),{chat:L(L({},e.chat),{messages:B(B([],e.chat.messages,!0),[{sender:"",text:y.error,level:v.Warning}],!1)})});case"HOST_NAME_CHANGED":return L(L({},e),{persons:L(L({},e.persons),{hostName:y.hostName})});case"THEME_NAME_CHANGED":return L(L({},e),{stage:L(L({},e.stage),{themeName:y.themeName})});case"IS_READY_CHANGED":return-1===y.personIndex?L(L({},e),{persons:L(L({},e.persons),{showman:L(L({},e.persons.showman),{isReady:y.isReady})})}):L(L({},e),{persons:L(L({},e.persons),{players:N(e.persons.players,y.personIndex,L(L({},e.persons.players[y.personIndex]),{isReady:y.isReady}))})});case"ROUNDS_NAMES_CHANGED":return L(L({},e),{roundsNames:y.roundsNames});case"CHOOSER_CHANGED":return L(L({},e),{persons:L(L({},e.persons),{players:e.persons.players.map((function(e,t){return L(L({},e),{isChooser:t===y.chooserIndex})}))})});case"PLAYER_IN_GAME_CHANGED":return L(L({},e),{persons:L(L({},e.persons),{players:N(e.persons.players,y.playerIndex,L(L({},e.persons.players[y.playerIndex]),{inGame:y.inGame}))})});case"ARE_APELLATIONS_ENABLED_CHANGED":return L(L({},e),{areApellationsEnabled:y.areApellationsEnabled});case"BUTTON_BLOCKING_TIME_CHANGED":return L(L({},e),{buttonBlockingTimeSeconds:y.buttonBlockingTime});case"GAME_METADATA_CHANGED":return L(L({},e),{metadata:{gameName:y.gameName,packageName:y.packageName,contactUri:y.contactUri,voiceChatUri:y.voiceChatUri}});case"BANNED_LIST_CHANGED":return L(L({},e),{banned:{entries:y.bannedList,selectedIp:null}});case"BANNED":return L(L({},e),{banned:L(L({},e.banned),{entries:L(L({},e.banned.entries),(r={},r[y.ip]=y.name,r))})});case"UNBANNED":return L(L({},e),{banned:L(L({},e.banned),{entries:k(e.banned.entries,y.ip)})});case"SELECT_BANNED_ITEM":return L(L({},e),{banned:L(L({},e.banned),{selectedIp:y.ip})});case"PLAYER_MEDIA_LOADED":return L(L({},e),{persons:L(L({},e.persons),{players:N(e.persons.players,y.playerIndex,L(L({},e.persons.players[y.playerIndex]),{mediaLoaded:!0}))})});case"EDIT_TABLE":return L(L({},e),{stage:L(L({},e.stage),{isEditEnabled:!e.stage.isEditEnabled})});case"JOIN_MODE_CHANGED":return L(L({},e),{joinMode:y.joinMode});default:return e}};var W=function(){return W=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},W.apply(this,arguments)};const V=function(e,t){var n;void 0===e&&(e=d);var r=t;switch(r.type){case"SOUND_VOLUME_CHANGED":return W(W({},e),{soundVolume:r.volume});case"SOUND_CHANGED":return W(W({},e),{sound:r.sound});case"APP_SOUND_CHANGED":return W(W({},e),{appSound:r.sound});case"MAIN_MENU_SOUND_CHANGED":return W(W({},e),{mainMenuSound:r.sound});case"SHOW_PERSONS_AT_BOTTOM_ON_WIDE_SCREEN":return W(W({},e),{showPersonsAtBottomOnWideScreen:r.showPersonsAtBottomOnWideScreen});case"SEX_CHANGED":return W(W({},e),{sex:r.newSex});case"AVATAR_KEY_CHANGED":return W(W({},e),{avatarKey:r.avatarKey});case"ORAL_CHANGED":return W(W({},e),{appSettings:W(W({},e.appSettings),{oral:r.oral})});case"FALSE_STARTS_CHANGED":return W(W({},e),{appSettings:W(W({},e.appSettings),{falseStart:r.falseStarts})});case"HINT_SHOWMAN_CHANGED":return W(W({},e),{appSettings:W(W({},e.appSettings),{hintShowman:r.hintShowman})});case"PARTIAL_TEXT_CHANGED":return W(W({},e),{appSettings:W(W({},e.appSettings),{partialText:r.partialText})});case"READING_SPEED_CHANGED":return W(W({},e),{appSettings:W(W({},e.appSettings),{readingSpeed:r.readingSpeed})});case"MANAGED_CHANGED":return W(W({},e),{appSettings:W(W({},e.appSettings),{managed:r.managed})});case"USE_APELLATIONS_CHANGED":return W(W({},e),{appSettings:W(W({},e.appSettings),{useApellations:r.useApellations})});case"IGNORE_WRONG_CHANGED":return W(W({},e),{appSettings:W(W({},e.appSettings),{ignoreWrong:r.ignoreWrong})});case"USE_PING_PENALTY_CHANGED":return W(W({},e),{appSettings:W(W({},e.appSettings),{usePingPenalty:r.usePingPenalty})});case"BUTTON_PRESS_MODE_CHANGED":return W(W({},e),{appSettings:W(W({},e.appSettings),{buttonPressMode:r.buttonPressMode})});case"PRELOAD_DOUND_CONTENT_CHANGED":return W(W({},e),{appSettings:W(W({},e.appSettings),{preloadRoundContent:r.preloadRoundContent})});case"TIME_SETTING_CHANGED":return W(W({},e),{appSettings:W(W({},e.appSettings),{timeSettings:W(W({},e.appSettings.timeSettings),(n={},n[r.name]=r.value,n))})});case"LANGUAGE_CHANGED":return W(W({},e),{appSettings:W(W({},e.appSettings),{culture:r.language})});case"GAME_BUTTON_KEY_CHANGED":return W(W({},e),{gameButtonKey:r.gameButtonKey});case"LOBBY_CHAT_VISIBILITY_CHANGED":return W(W({},e),{isLobbyChatHidden:!r.isLobbyChatVisible});case"VALIDATION_ANSWERS_VISIBILITY_CHANGED":return W(W({},e),{areValidationAnswersHidden:!r.validationAnswersVisible});case"PLAY_ALL_QUESTIONS_IN_FINAL_ROUND_CHANGED":return W(W({},e),{appSettings:W(W({},e.appSettings),{playAllQuestionsInFinalRound:r.playAllQuestionsInFinalRound})});case"ORAL_PLAYERS_ACTIONS_CHANGED":return W(W({},e),{appSettings:W(W({},e.appSettings),{oralPlayersActions:r.oralPlayersActions})});case"ALLOW_EVERYONE_TO_PLAY_HIDDEN_STAKES_CHANGED":return W(W({},e),{appSettings:W(W({},e.appSettings),{allowEveryoneToPlayHiddenStakes:r.allowEveryoneToPlayHiddenStakes})});case"DISPLAY_SOURCES_CHANGED":return W(W({},e),{appSettings:W(W({},e.appSettings),{displaySources:r.displaySources})});case"FLOATING_CONTROLS_CHANGED":return W(W({},e),{floatingControls:r.float});case"BIND_NEXT_BUTTON_CHANGED":return W(W({},e),{bindNextButton:r.bindNextButton});case"ATTACH_CONTENT_TO_TABLE_CHANGED":return W(W({},e),{attachContentToTable:r.attachContentToTable});case"RESET_SETTINGS":return d;default:return e}};var U;!function(e){e[e.Normal=0]="Normal",e[e.Active=1]="Active",e[e.Right=2]="Right",e[e.Wrong=3]="Wrong"}(U||(U={}));const F=U;var Z=function(){return Z=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Z.apply(this,arguments)};const Y=function(e,t){void 0===e&&(e=m);var n=t;switch(n.type){case"SHOW_LOGO":return Z(Z({},e),{mode:1});case"SHOW_GAME_THEMES":return Z(Z({},e),{mode:4,gameThemes:n.gameThemes});case"SHOW_ROUND":return Z(Z({},e),{mode:5,text:n.roundName,animateReading:!1,content:[],appendText:"",prependText:""});case"SHOW_ROUND_THEMES":return Z(Z({},e),{mode:n.display?n.isFinal?9:6:e.mode,roundInfo:n.roundThemes});case"SHOW_TEXT":return Z(Z({},e),{mode:2,text:n.text,audio:"",animateReading:n.animateReading});case"SHOW_ANSWER":return Z(Z({},e),{mode:3,text:n.text});case"SHOW_ROUND_TABLE":return Z(Z({},e),{mode:7,activeThemeIndex:-1,actionQuestionIndex:-1});case"BLINK_QUESTION":return Z(Z({},e),{activeThemeIndex:n.themeIndex,actionQuestionIndex:n.questionIndex});case"BLINK_THEME":return Z(Z({},e),{activeThemeIndex:n.themeIndex});case"UPDATE_QUESTION":return function(e,t){var n=e.roundInfo[t.themeIndex];return n?Z(Z({},e),{roundInfo:N(e.roundInfo,t.themeIndex,{name:n.name,questions:N(n.questions,t.questionIndex,t.price)})}):e}(e,n);case"REMOVE_THEME":return function(e,t){var n=e.roundInfo[t.themeIndex];return n?Z(Z({},e),{activeThemeIndex:-1,roundInfo:N(e.roundInfo,t.themeIndex,{name:"",questions:n.questions})}):e}(e,n);case"SHOW_PARTIAL_TEXT":return Z(Z({},e),{text:"",tail:n.textShape});case"APPEND_PARTIAL_TEXT":return Z(Z({},e),{text:e.text+n.text,tail:e.tail.substring(n.text.length)});case"SHOW_BACKGROUND_AUDIO":return Z(Z({},e),{mode:10,audio:n.uri,isMediaStopped:!1});case"SHOW_CONTENT":return Z(Z({},e),{mode:10,content:n.content});case"SHOW_SPECIAL":return Z(Z({},e),{mode:8,text:n.text,activeThemeIndex:n.activeThemeIndex});case"CAN_PRESS_CHANGED":return Z(Z({},e),{canPress:n.canPress,canPressUpdateTime:n.updateTime,isMediaStopped:!n.canPress||e.isMediaStopped});case"IS_SELECTABLE_CHANGED":return Z(Z({},e),{isSelectable:n.isSelectable});case"RESUME_MEDIA":return Z(Z({},e),{isMediaStopped:!1});case"CAPTION_CHANGED":return Z(Z({},e),{caption:n.caption});case"TABLE_RESET":return m;case"END_QUESTION":return Z(Z({},e),{content:[],prependText:"",appendText:"",audio:"",layoutMode:0});case"ANSWER_OPTIONS":return Z(Z({},e),{mode:10,layoutMode:1,answerOptions:n.options});case"UPDATE_OPTION":return Z(Z({},e),{answerOptions:N(e.answerOptions,n.index,{label:n.label,state:e.answerOptions[n.index].state,content:{type:n.contentType,value:n.value,read:e.answerOptions[n.index].content.read,partial:e.answerOptions[n.index].content.partial}})});case"UPDATE_OPTION_STATE":return Z(Z({},e),{answerOptions:N(e.answerOptions,n.index,Z(Z({},e.answerOptions[n.index]),{state:n.state}))});case"RIGHT_OPTION":return Z(Z({},e),{answerOptions:e.answerOptions.map((function(e){return Z(Z({},e),{state:e.label===n.label?F.Right:e.state===F.Active?F.Normal:e.state})}))});case"PREPEND_TEXT_CHANGED":return Z(Z({},e),{prependText:n.text});case"QUESTION_RESET":return Z(Z({},e),{prependText:"",appendText:""});case"SET_ANSWER_VIEW":return Z(Z({},e),{prependText:"",animateReading:!1,content:[],appendText:n.rightAnswer});default:return e}};var z=function(){return z=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},z.apply(this,arguments)};const Q=function(e,t){void 0===e&&(e=h);var n=t;switch(n.type){case"LOGIN_CHANGED":return z(z({},e),{login:n.newLogin});case"AVATAR_CHANGED":return z(z({},e),{avatar:n.avatar});default:return e}};var K=function(){return K=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},K.apply(this,arguments)};const q=function(e,t){void 0===e&&(e=g);var n=t;switch(n.type){case"LOGIN_START":return K(K({},e),{inProgress:!0,errorMessage:""});case"LOGIN_END":return K(K({},e),{inProgress:!1,errorMessage:n.error});default:return e}};var J=function(){return J=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},J.apply(this,arguments)};const X=function(e,t){void 0===e&&(e=f);var n=t;switch(n.type){case"IS_CONNECTED_CHANGED":return J(J({},e),{isConnected:n.isConnected});case"COMPUTER_ACCOUNTS_CHANGED":return J(J({},e),{computerAccounts:n.computerAccounts});case"SERVER_INFO_CHANGED":return J(J({},e),{serverName:n.serverName,serverLicense:n.serverLicense,maxPackageSizeMb:n.maxPackageSizeMb});case"COMMON_ERROR_CHANGED":return J(J({},e),{error:n.error});case"AVATAR_LOAD_START":return J(J({},e),{avatarLoadProgress:!0});case"AVATAR_LOAD_END":return J(J({},e),{avatarLoadError:null,avatarLoadProgress:!1});case"AVATAR_LOAD_ERROR":return J(J({},e),{avatarLoadError:n.error,avatarLoadProgress:!1});default:return e}};var $=function(){return $=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},$.apply(this,arguments)};const ee=function(e,t){void 0===e&&(e=y);var n=t;switch(n.type){case"SEARCH_PACKAGES":return $($({},e),{isLoading:!0,error:null});case"SEARCH_PACKAGES_FINISHED":return $($({},e),{packages:n.packages,isLoading:!1});case"SEARCH_PACKAGES_ERROR":return $($({},e),{isLoading:!1,error:n.error});case"RECEIVE_AUTHORS_FINISHED":return $($({},e),{authors:n.authors});case"RECEIVE_TAGS_FINISHED":return $($({},e),{tags:n.tags});case"RECEIVE_PUBLISHERS_FINISHED":return $($({},e),{publishers:n.publishers});case"RECEIVE_LANGUAGES_FINISHED":return $($({},e),{languages:n.languages});case"SET_LANGUAGE":return $($({},e),{languageId:n.languageId});case"RECEIVE_RESTRICTIONS_FINISHED":return $($({},e),{restrictions:n.restrictions});default:return e}};var te=function(){return te=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},te.apply(this,arguments)};const ne=function(e,t){void 0===e&&(e=b);var n=t;switch(n.type){case"NAVIGATE_TO_LOGIN":return te(te({},e),{mainView:E.Login,previousMainView:e.mainView});case"SHOW_SETTINGS":return te(te({},e),{areSettingsVisible:n.show,isSettingGameButtonKey:e.isSettingGameButtonKey&&n.show});case"NAVIGATE_TO_HOW_TO_PLAY":return te(te({},e),{mainView:E.About,previousMainView:e.mainView});case"NAVIGATE_BACK":return te(te({},e),{mainView:e.previousMainView});case"NAVIGATE_TO_WELCOME":return te(te({},e),{mainView:E.Welcome,previousMainView:e.mainView});case"NAVIGATE_TO_NEW_GAME":return te(te({},e),{mainView:E.NewGame,previousMainView:e.mainView});case"NAVIGATE_TO_GAMES":return te(te({},e),{mainView:E.Games,previousMainView:e.mainView});case"NAVIGATE_TO_LOBBY":return te(te({},e),{mainView:E.Lobby,previousMainView:e.mainView});case"NAVIGATE_TO_ERROR":return te(te({},e),{mainView:E.Error,previousMainView:e.mainView});case"NAVIGATE_TO_GAME":return te(te({},e),{mainView:E.Game,previousMainView:e.mainView});case"CLOSE_GAME_INFO":return te(te({},e),{onlineView:0});case"ONLINE_MODE_CHANGED":return te(te({},e),{onlineView:n.mode});case"WINDOW_SIZE_CHANGED":return te(te({},e),{windowWidth:n.width,windowHeight:n.height});case"IS_SETTING_GAME_BUTTON_KEY_CHANGED":return te(te({},e),{isSettingGameButtonKey:n.isSettingGameButtonKey});default:return e}};var re=function(){return re=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},re.apply(this,arguments)},ae=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))};const oe=function(e,t){void 0===e&&(e=T);var n,r,a,o,i,s=t;switch(s.type){case"DROP_SELECTED_GAME":case"UNSELECT_GAME":return re(re({},e),{selectedGameId:-1});case"RESET_LOBBY":return re(re({},e),{games:[],users:[],messages:[],inProgress:!0,error:""});case"CLEAR_GAMES":return re(re({},e),{games:{}});case"RECEIVE_GAMES":return re(re({},e),{games:re(re({},e.games),(a=s.games,o=function(e){return e.GameID},i={},a.forEach((function(e){i[o(e)]=e})),i))});case"RECEIVE_USERS":return re(re({},e),{users:s.users});case"RECEIVE_MESSAGE":return re(re({},e),{messages:ae(ae([],e.messages,!0),[{sender:s.sender,text:s.message,level:v.Information}],!1)});case"GAME_CREATED":case"GAME_CHANGED":return re(re({},e),{games:R(e.games,s.game.GameID,s.game)});case"GAME_DELETED":return re(re({},e),{games:O(e.games,s.gameId),selectedGameId:e.selectedGameId===s.gameId?-1:e.selectedGameId});case"USER_JOINED":return e.users.indexOf(s.login)>-1?e:re(re({},e),{users:ae(ae([],e.users,!0),[s.login],!1)});case"USER_LEAVED":return re(re({},e),{users:(n=e.users,r=s.login,n.filter((function(e){return e!==r})))});case"ONLINE_LOAD_FINISHED":return re(re({},e),{inProgress:!1});case"ONLINE_LOAD_ERROR":return re(re({},e),{inProgress:!1,error:s.error});case"GAMES_FILTER_TOGGLE":return re(re({},e),{gamesFilter:e.gamesFilter^s.filter});case"GAMES_SEARCH_CHANGED":return re(re({},e),{gamesSearch:s.search});case"SELECT_GAME":return re(re({},e),{selectedGameId:s.gameId});case"PASSWORD_CHANGED":return re(re({},e),{password:s.newPassword});case"MESSAGE_CHANGED":return re(re({},e),{currentMessage:s.message});case"CHAT_MODE_CHANGED":return re(re({},e),{chatMode:s.chatMode});case"NEW_GAME":return re(re({},e),{newGameShown:!0,gameCreationProgress:!1,gameCreationError:null});case"NEW_GAME_CANCEL":return re(re({},e),{newGameShown:!1,gameCreationError:null,gameCreationProgress:!1});case"GAME_CREATION_START":return re(re({},e),{gameCreationProgress:!0,gameCreationError:null});case"GAME_CREATION_END":return re(re({},e),{gameCreationProgress:!1,gameCreationError:s.error});case"UPLOAD_PACKAGE_STARTED":return re(re({},e),{uploadPackageProgress:!0,uploadPackagePercentage:0});case"UPLOAD_PACKAGE_FINISHED":return re(re({},e),{uploadPackageProgress:!1});case"UPLOAD_PACKAGE_PROGRESS":return re(re({},e),{uploadPackagePercentage:s.progress});case"JOIN_GAME_STARTED":return re(re({},e),{joinGameProgress:!0,joingGameError:null});case"JOIN_GAME_FINISHED":return re(re({},e),{joinGameProgress:!1,joingGameError:s.error});case"LATEST_GAMES_LOADED":return re(re({},e),{latestGames:s.latestGames});case"GAMES_STATISTICS_LOADED":return re(re({},e),{gamesStatistics:s.gamesStatistics});case"PACKAGES_STATISTICS_LOADED":return re(re({},e),{packagesStatistics:s.packagesStatistics});default:return e}};var ie=function(){return ie=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ie.apply(this,arguments)};const se=function(e,t){void 0===e&&(e=I);var n=t;switch(n.type){case"GAME_NAME_CHANGED":return ie(ie({},e),{name:n.gameName});case"GAME_PASSWORD_CHANGED":return ie(ie({},e),{password:n.gamePassword});case"GAME_VOICE_CHAT_CHANGED":return ie(ie({},e),{voiceChat:n.gameVoiceChat});case"GAME_PACKAGE_TYPE_CHANGED":return ie(ie({},e),{package:ie(ie({},e.package),{type:n.packageType})});case"GAME_PACKAGE_DATA_CHANGED":return ie(ie({},e),{package:ie(ie({},e.package),{name:n.packageName,data:n.packageData})});case"GAME_PACKAGE_LIBRARY_CHANGED":return ie(ie({},e),{package:ie(ie({},e.package),{name:n.name,id:n.id,uri:n.uri})});case"GAME_TYPE_CHANGED":return ie(ie({},e),{type:n.gameType});case"GAME_ROLE_CHANGED":return ie(ie({},e),{role:n.gameRole,humanPlayersCount:Math.min(e.playersCount-(1===n.gameRole?1:0),e.humanPlayersCount)});case"SHOWMAN_TYPE_CHANGED":return ie(ie({},e),{isShowmanHuman:n.isHuman});case"PLAYERS_COUNT_CHANGED":return ie(ie({},e),{playersCount:n.playersCount,humanPlayersCount:Math.min(e.humanPlayersCount,n.playersCount-(1===e.role?1:0))});case"HUMAN_PLAYERS_COUNT_CHANGED":return ie(ie({},e),{humanPlayersCount:n.humanPlayersCount});case"GAME_SET":return ie(ie({},e),{id:n.id,isAutomatic:n.isAutomatic});case"NEW_GAME2":return ie(ie({},e),{name:e.name||"".concat(S.gameOf," ").concat(n.userName)});default:return e}},ce=function(e,t){return void 0===e&&(e=w),{user:Q(e.user,t),login:q(e.login,t),room:j(e.room,t),common:X(e.common,t),settings:V(e.settings,t),table:Y(e.table,t),siPackages:ee(e.siPackages,t),ui:ne(e.ui,t),online:oe(e.online,t),game:se(e.game,t)}};var le=n(3894),ue=n(7294),pe=n(993),de=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},me=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},he=function(){function e(e,t){this.connection=e,this.errorHandler=t,this.state=0,this.culture="",this.joinInfo=null}return e.prototype.getComputerAccountsAsync=function(e){return this.connection.invoke("GetComputerAccountsNew",e)},e.prototype.getGameHostInfoAsync=function(e){return this.connection.invoke("GetGamesHostInfoNew",e)},e.prototype.joinLobbyAsync=function(e){return de(this,void 0,void 0,(function(){return me(this,(function(t){switch(t.label){case 0:return[4,this.connection.invoke("JoinLobby2",e)];case 1:return t.sent(),this.state=1,this.culture=e,[2,!0]}}))}))},e.prototype.getGamesSliceAsync=function(e){return this.connection.invoke("GetGamesSlice",e)},e.prototype.getUsersAsync=function(){return this.connection.invoke("GetUsers")},e.prototype.getNewsAsync=function(){return this.connection.invoke("GetNews")},e.prototype.sayInLobbyAsync=function(e){return this.connection.invoke("Say",e)},e.prototype.createAndJoinGameAsync=function(e,t,n){return this.connection.invoke("CreateAndJoinGameNew",e,t,[],n)},e.prototype.createAndJoinGame2Async=function(e,t,n){return this.connection.invoke("CreateAndJoinGame2",e,t,[],n)},e.prototype.createAutomaticGameAsync=function(e,t){return this.connection.invoke("CreateAutomaticGameNew",e,t)},e.prototype.joinGameAsync=function(e,t,n,r){return de(this,void 0,void 0,(function(){var a;return me(this,(function(o){switch(o.label){case 0:return[4,this.connection.invoke("JoinGameNew",e,t,n,r)];case 1:return(a=o.sent()).ErrorMessage||(this.state=2,this.joinInfo={gameId:e,role:t,isMale:n,password:r}),[2,a]}}))}))},e.prototype.sendMessageToServerAsync=function(e){return de(this,void 0,void 0,(function(){var t;return me(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.connection.invoke("SendMessage",{Text:e,IsSystem:!0,Receiver:"@"})];case 1:return n.sent(),[2,!0];case 2:return t=n.sent(),this.errorHandler(t),[2,!1];case 3:return[2]}}))}))},e.prototype.msgAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.sendMessageToServerAsync(e.join("\n"))},e.prototype.sayAsync=function(e){return this.connection.invoke("SendMessage",{Text:e,IsSystem:!1,Receiver:"*"})},e.prototype.leaveGameAsync=function(){return de(this,void 0,void 0,(function(){return me(this,(function(e){switch(e.label){case 0:return[4,this.connection.invoke("LeaveGame")];case 1:return e.sent(),this.state=0,[2]}}))}))},e.prototype.logOutAsync=function(){return this.connection.invoke("LogOut")},e.prototype.reconnectAsync=function(){return de(this,void 0,void 0,(function(){return me(this,(function(e){switch(e.label){case 0:return 1!==this.state?[3,2]:[4,this.joinLobbyAsync(this.culture)];case 1:return e.sent(),[3,4];case 2:return 2===this.state&&this.joinInfo?[4,this.joinGameAsync(this.joinInfo.gameId,this.joinInfo.role,this.joinInfo.isMale,this.joinInfo.password)]:[3,4];case 3:e.sent(),e.label=4;case 4:return[2]}}))}))},e}();const ge=he;var fe=n(7001),ye=n.n(fe);const Ee=function(){function e(e){this.gameServerClient=e}return e.prototype.mediaLoaded=function(){return this.gameServerClient.msgAsync("MEDIALOADED")},e.prototype.pressButton=function(e){return this.gameServerClient.msgAsync("I",e)},e.prototype.sendAnswerVersion=function(e){return this.gameServerClient.msgAsync("ANSWER_VERSION",e)},e.prototype.setChooser=function(e){return this.gameServerClient.msgAsync("SETCHOOSER",e)},e.prototype.setHost=function(e){return this.gameServerClient.msgAsync("SETHOST",e)},e.prototype.setJoinMode=function(e){return this.gameServerClient.msgAsync("SETJOINMODE",s[e])},e.prototype.toggle=function(e,t){return this.gameServerClient.msgAsync("TOGGLE",e,t)},e.prototype.unban=function(e){return this.gameServerClient.msgAsync("UNBAN",e)},e}();var Ae,be=(Ae=function(e,t){return Ae=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Ae(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Ae(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),ve={};const Se=function(e){function t(t){var n=e.call(this,t)||this;return n.resizeText=function(){null!==n.myRef.current&&function(e,t){var n=e.firstElementChild;if(n){var r=t,a=e.clientHeight,o=e.clientWidth,i=0,s=0,c=0,l=window.getComputedStyle(e);l.paddingTop&&(c+=parseInt(l.paddingTop,10)),l.paddingBottom&&(c+=parseInt(l.paddingBottom,10));var u="".concat(window.innerWidth," ").concat(n.innerHTML," ").concat(n.clientHeight+c," ").concat(n.clientWidth+c),p=ve[u];if(p)e.style.fontSize="".concat(p,"px");else{do{e.style.fontSize="".concat(r,"px"),i=n.clientHeight+c,s=n.clientWidth+c,r--}while((i+3>a||s>o+1)&&r>0);n.innerHTML.length<15&&(ve[u]=r)}}}(n.myRef.current,n.props.maxFontSize)},n.myRef=ue.createRef(),n}return be(t,e),t.prototype.componentDidMount=function(){this.resizeText(),window.addEventListener("resize",this.resizeText)},t.prototype.componentDidUpdate=function(){this.resizeText()},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.resizeText)},t.prototype.onClick=function(){this.props.onClick&&this.props.onClick()},t.prototype.render=function(){var e=this;return ue.createElement("div",{id:this.props.id,ref:this.myRef,title:this.props.title,className:this.props.className,style:this.props.style,onClick:function(){return e.onClick()}},ue.createElement("span",null,this.props.children))},t}(ue.Component);var Te=n(3379),Ie=n.n(Te),we=n(7795),Ce=n.n(we),Ne=n(569),_e=n.n(Ne),xe=n(3565),Pe=n.n(xe),Re=n(9216),Oe=n.n(Re),ke=n(4589),Ge=n.n(ke),Me=n(750),De={};De.styleTagTransform=Ge(),De.setAttributes=Pe(),De.insert=_e().bind(null,"head"),De.domAPI=Ce(),De.insertStyleElement=Oe(),Ie()(Me.Z,De),Me.Z&&Me.Z.locals&&Me.Z.locals;const He=(0,o.$j)((function(e){return{replic:e.room.persons.showman.replic,windowWidth:e.ui.windowWidth}}))((function(e){var t=e.windowWidth>=u.WIDE_WINDOW_WIDTH;return ue.createElement(Se,{className:"showmanReplic ".concat(e.replic||!t?"":"hidden"),maxFontSize:48},e.replic||"")}));var Le=n(2579),Be={};function je(){return ue.createElement("div",{className:"centerBlock logoBlock"},ue.createElement("div",{className:"tableLogo"}),ue.createElement("div",{className:"tableLogoAuthor"},S.tableLogoAuthor))}Be.styleTagTransform=Ge(),Be.setAttributes=Pe(),Be.insert=_e().bind(null,"head"),Be.domAPI=Ce(),Be.insertStyleElement=Oe(),Ie()(Le.Z,Be),Le.Z&&Le.Z.locals&&Le.Z.locals;var We=n(5850),Ve={};Ve.styleTagTransform=Ge(),Ve.setAttributes=Pe(),Ve.insert=_e().bind(null,"head"),Ve.domAPI=Ce(),Ve.insertStyleElement=Oe(),Ie()(We.Z,Ve),We.Z&&We.Z.locals&&We.Z.locals;const Ue=(0,o.$j)((function(e){return{canTry:e.table.canPress,pressTimer:e.room.timers.press}}))((function(e){var t=e.canTry&&H(e.pressTimer)?" animate":"",n="".concat((e.pressTimer.maximum-e.pressTimer.value)/10,"s"),r=e.pressTimer.maximum>0?100*(e.pressTimer.maximum-e.pressTimer.value)/e.pressTimer.maximum:100,a={animationDuration:n,width:"".concat(r,"%")},o={animationDuration:n,height:"".concat(r,"%")};return ue.createElement("div",{className:"tableBorder tableBorderCentered"},e.children,e.canTry?ue.createElement(ue.Fragment,null,ue.createElement("div",{className:"topBorder ".concat(t),style:a}),ue.createElement("div",{className:"rightBorder ".concat(t),style:o}),ue.createElement("div",{className:"bottomBorder ".concat(t),style:a}),ue.createElement("div",{className:"leftBorder ".concat(t),style:o})):null)}));var Fe=n(5774),Ze={};Ze.styleTagTransform=Ge(),Ze.setAttributes=Pe(),Ze.insert=_e().bind(null,"head"),Ze.domAPI=Ce(),Ze.insertStyleElement=Oe(),Ie()(Fe.Z,Ze),Fe.Z&&Fe.Z.locals&&Fe.Z.locals;const Ye=(0,o.$j)((function(e){return{text:e.table.text,animateReading:e.table.animateReading,readingSpeed:e.room.readingSpeed}}))((function(e){return ue.createElement(Ue,null,ue.createElement(Se,{className:"tableText tableTextCenter",maxFontSize:144},e.text))})),ze=(0,o.$j)((function(e){return{text:e.table.text}}))((function(e){return ue.createElement("div",{className:"answerBlock"},ue.createElement(Se,{id:"tableText",className:"tableText tableTextCenter",maxFontSize:144},e.text))}));var Qe={showLogo:function(){return{type:"SHOW_LOGO"}},showGameThemes:function(e){return{type:"SHOW_GAME_THEMES",gameThemes:e}},showRound:function(e){return{type:"SHOW_ROUND",roundName:e}},showRoundThemes:function(e,t,n){return{type:"SHOW_ROUND_THEMES",roundThemes:e,isFinal:t,display:n}},showText:function(e,t){return{type:"SHOW_TEXT",text:e,animateReading:t}},showAnswer:function(e){return{type:"SHOW_ANSWER",text:e}},showRoundTable:function(){return{type:"SHOW_ROUND_TABLE"}},blinkQuestion:function(e,t){return{type:"BLINK_QUESTION",themeIndex:e,questionIndex:t}},blinkTheme:function(e){return{type:"BLINK_THEME",themeIndex:e}},updateQuestion:function(e,t,n){return{type:"UPDATE_QUESTION",themeIndex:e,questionIndex:t,price:n}},removeTheme:function(e){return{type:"REMOVE_THEME",themeIndex:e}},showPartialText:function(e){return{type:"SHOW_PARTIAL_TEXT",textShape:e}},appendPartialText:function(e){return{type:"APPEND_PARTIAL_TEXT",text:e}},showBackgroundAudio:function(e){return{type:"SHOW_BACKGROUND_AUDIO",uri:e}},showContent:function(e){return{type:"SHOW_CONTENT",content:e}},showSpecial:function(e,t){return void 0===t&&(t=-1),{type:"SHOW_SPECIAL",text:e,activeThemeIndex:t}},canPressChanged:function(e){return{type:"CAN_PRESS_CHANGED",canPress:e,updateTime:Date.now()}},isSelectableChanged:function(e){return{type:"IS_SELECTABLE_CHANGED",isSelectable:e}},resumeMedia:function(){return{type:"RESUME_MEDIA"}},captionChanged:function(e){return{type:"CAPTION_CHANGED",caption:e}},tableReset:function(){return{type:"TABLE_RESET"}},endQuestion:function(){return{type:"END_QUESTION"}},answerOptions:function(e,t){return{type:"ANSWER_OPTIONS",questionHasScreenContent:e,options:t}},updateOption:function(e,t,n,r){return{type:"UPDATE_OPTION",index:e,label:t,contentType:n,value:r}},updateOptionState:function(e,t){return{type:"UPDATE_OPTION_STATE",index:e,state:t}},rightOption:function(e){return{type:"RIGHT_OPTION",label:e}},prependTextChanged:function(e){return{type:"PREPEND_TEXT_CHANGED",text:e}},questionReset:function(){return{type:"QUESTION_RESET"}},setAnswerView:function(e){return{type:"SET_ANSWER_VIEW",rightAnswer:e}}};const Ke=Qe;var qe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Je=function(e){function t(t){var n=e.call(this,t)||this;return n.timerRef=null,n.tableGameThemesRef=ue.createRef(),n}return qe(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.tableGameThemesRef.current;if(t){var n=15*Math.max(3,this.props.gameThemes.length)/18;t.style.transitionDuration="".concat(n,"s"),t.style.top="-".concat(t.clientHeight,"px"),this.timerRef=window.setTimeout((function(){e.props.onShowLogo()}),1e3*n)}},t.prototype.componentWillUnmount=function(){this.timerRef&&(window.clearTimeout(this.timerRef),this.timerRef=null)},t.prototype.render=function(){return ue.createElement("ul",{id:"tableGameThemes",ref:this.tableGameThemesRef,className:"tableGameThemes"},this.props.gameThemes.map((function(e,t){return ue.createElement("li",{key:t},e)})))},t}(ue.Component);const Xe=(0,o.$j)((function(e){return{gameThemes:e.table.gameThemes}}),(function(e){return{onShowLogo:function(){e(Ke.showLogo())}}}))(Je);var $e=n(930),et=(n(7310),"SIOnline_State");const tt=function(){return{type:"NAVIGATE_TO_LOGIN"}},nt=function(){return{type:"NAVIGATE_TO_WELCOME"}},rt=function(e){return{type:"ONLINE_MODE_CHANGED",mode:e}},at=function(){return{type:"NAVIGATE_TO_GAME"}},ot=function(){return{type:"NAVIGATE_TO_LOBBY"}},it=function(){return{type:"NAVIGATE_TO_GAMES"}};function st(e){return e instanceof Error?e.message:e.toString()}function ct(e){return"ru"===function(e){var t;return null!==(t=e.settings.appSettings.culture)&&void 0!==t?t:S.getLanguage()}(e)?"ru-RU":"en-US"}function lt(e){for(var t=e.room.persons.players,n=0;n<t.length;n++)if(t[n].name===e.user.login)return t[n];return null}function ut(e){switch(e){case"NoPackage":return S.errorPackageNotFound;case"TooMuchGames":return S.errorTooManyGames;case"ServerUnderMaintainance":return S.errorServerUnderMaintainance;case"BadPackage":return S.errorBadPackage;case"GameNameCollision":return S.errorDuplicateGameName;case"InternalServerError":return S.errorInternalServerError;case"ServerNotReady":return S.errorServerNotReady;case"YourClientIsObsolete":return S.errorObsoleteVersion;case"UnknownError":default:return S.errorUnknownError;case"JoinError":return S.joinError+": ";case"WrongGameSettings":return S.wrongGameSettings;case"TooManyGamesByAddress":return S.tooManyGamesByIp}}const pt=function(e,t){return{type:"GAME_SET",id:e,isAutomatic:t}};var dt=n(9149),mt=n.n(dt),ht=function(){return ht=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ht.apply(this,arguments)},gt=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},ft=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},yt=function(e){return{type:"SELECT_GAME",gameId:e}},Et=function(){return{type:"CLEAR_GAMES"}},At=function(e){return{type:"RECEIVE_GAMES",games:e}};function bt(e,t){return gt(this,void 0,void 0,(function(){var n,r,a;return ft(this,(function(o){switch(o.label){case 0:e(Et()),n={Data:[],IsLastSlice:!1},r=100,o.label=1;case 1:return a=n.Data.length>0?n.Data[n.Data.length-1].GameID+1:0,[4,t.getGamesSliceAsync(a)];case 2:n=o.sent(),e(At(n.Data)),r--,o.label=3;case 3:if(!n.IsLastSlice&&r>0)return[3,1];o.label=4;case 4:return[2]}}))}))}var vt=function(e){return{type:"ONLINE_LOAD_ERROR",error:e}},St=function(e,t){return{type:"RECEIVE_MESSAGE",sender:e,message:t}},Tt=function(e){return{type:"MESSAGE_CHANGED",message:e}},It=function(e){return void 0===e&&(e=null),{type:"GAME_CREATION_END",error:e}},wt=function(){return{type:"UPLOAD_PACKAGE_STARTED"}},Ct=function(){return{type:"UPLOAD_PACKAGE_FINISHED"}},Nt=function(e){return{type:"UPLOAD_PACKAGE_PROGRESS",progress:e}};function _t(e,t){return gt(this,void 0,void 0,(function(){var n,r,a,o,i,s;return ft(this,(function(c){switch(c.label){case 0:return n=new(mt())({serviceUri:t.config.siStatisticsServiceUri}),r=new Date,a={platform:2,from:new Date(r.getTime()-864e5),to:r,count:5,languageCode:S.getLanguage()},[4,n.getLatestTopPackagesAsync(a)];case 1:return o=c.sent(),e({type:"PACKAGES_STATISTICS_LOADED",packagesStatistics:o}),[4,n.getLatestGamesStatisticAsync(a)];case 2:return i=c.sent(),e({type:"GAMES_STATISTICS_LOADED",gamesStatistics:i}),[4,n.getLatestGamesInfoAsync(ht(ht({},a),{count:25}))];case 3:return s=c.sent(),e({type:"LATEST_GAMES_LOADED",latestGames:s}),[2]}}))}))}function xt(e,t,n){return gt(this,void 0,void 0,(function(){return ft(this,(function(r){switch(r.label){case 0:return[4,e.uploadPackageIfNotExistAsync(t.name,t,(function(){return n(wt())}),(function(e){n(Nt(e))}),(function(){return n(Ct())}))];case 1:return[2,{Type:"Content",Uri:r.sent(),ContentServiceUri:e.options.serviceUri,Secret:null}]}}))}))}function Pt(){var e=new Uint32Array(1);return crypto.getRandomValues(e),e[0]}var Rt=function(e,t,n,r,a){return gt(void 0,void 0,void 0,(function(){return ft(this,(function(o){switch(o.label){case 0:return e(pt(n,a)),e(at()),e(Ke.tableReset()),e(Ke.showText(S.tableHint,!1)),e(en.roleChanged(r)),e(en.stopTimer(0)),e(en.stopTimer(1)),e(en.stopTimer(2)),e(en.gameStarted(!1)),[4,Ot(n,t,r)];case 1:return o.sent(),[2]}}))}))};function Ot(e,t,n){return gt(this,void 0,void 0,(function(){return ft(this,(function(r){switch(r.label){case 0:return t.config.rewriteUrl&&window.history.pushState({},"".concat(S.game," ").concat(e),"".concat(t.config.rootUri,"?gameId=").concat(e)),[4,t.gameClient.sendMessageToServerAsync("INFO")];case 1:return r.sent(),1!==n&&2!==n?[3,3]:[4,t.gameClient.sendMessageToServerAsync("READY")];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}var kt=function(e){return{type:"JOIN_GAME_FINISHED",error:e}},Gt={friendsPlay:function(){return function(e,t,n){return gt(void 0,void 0,void 0,(function(){var r,a,o,i;return ft(this,(function(s){switch(s.label){case 0:r=t(),a=r.online.selectedGameId,e(it()),e({type:"DROP_SELECTED_GAME"}),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,bt(e,n.gameClient)];case 2:return s.sent(),o=t(),a&&o.online.games[a]&&e(yt(a)),e({type:"ONLINE_LOAD_FINISHED"}),[3,4];case 3:return i=s.sent(),e(vt(st(i))),[3,4];case 4:return[2]}}))}))}},navigateToLobby:function(e,t){return function(n,r,a){return gt(void 0,void 0,void 0,(function(){var o,i,s,c,l,u,p;return ft(this,(function(d){switch(d.label){case 0:return o=r(),i=ct(o),[4,a.gameClient.joinLobbyAsync(i)];case 1:d.sent(),n(ot()),n({type:"RESET_LOBBY"}),e>-1?(n(yt(e)),t&&n(rt(1))):a.config.rewriteUrl&&window.history.pushState({},"",a.config.rootUri),d.label=2;case 2:return d.trys.push([2,10,,11]),[4,bt(n,a.gameClient)];case 3:d.sent(),d.label=4;case 4:return d.trys.push([4,6,,7]),[4,_t(n,a)];case 5:return d.sent(),[3,7];case 6:return s=d.sent(),n(St(S.errorHappened,st(s))),[3,7];case 7:return[4,a.gameClient.getUsersAsync()];case 8:return c=d.sent(),l=c.sort((function(e,t){return e.localeCompare(t)})),n(function(e){return{type:"RECEIVE_USERS",users:e}}(l)),[4,a.gameClient.getNewsAsync()];case 9:return null!==(u=d.sent())&&n(St(S.news,u)),n({type:"ONLINE_LOAD_FINISHED"}),[3,11];case 10:return p=d.sent(),n(vt(st(p))),[3,11];case 11:return[2]}}))}))}},onGamesFilterToggle:function(e){return{type:"GAMES_FILTER_TOGGLE",filter:e}},onGamesSearchChanged:function(e){return{type:"GAMES_SEARCH_CHANGED",search:e}},selectGame:yt,unselectGame:function(){return{type:"UNSELECT_GAME"}},newGame:function(){return{type:"NEW_GAME"}},newGameCancel:function(){return{type:"NEW_GAME_CANCEL"}},joinGame:function(e,t){return function(n,r,a){return gt(void 0,void 0,void 0,(function(){var o,i,s;return ft(this,(function(c){switch(c.label){case 0:n({type:"JOIN_GAME_STARTED"}),c.label=1;case 1:return c.trys.push([1,4,,5]),o=r(),[4,a.gameClient.joinGameAsync(e,t,0===o.settings.sex,o.online.password)];case 2:return(i=c.sent()).ErrorMessage?(n(kt("".concat(S.joinError,": ").concat(i.ErrorMessage))),[2]):[4,Rt(n,a,e,t,!1)];case 3:return c.sent(),Xn.saveStateToStorage(o),n(kt(null)),[3,5];case 4:return s=c.sent(),n(kt(st(s))),[3,5];case 5:return[2]}}))}))}},passwordChanged:function(e){return{type:"PASSWORD_CHANGED",newPassword:e}},chatModeChanged:function(e){return{type:"CHAT_MODE_CHANGED",chatMode:e}},gameCreated:function(e){return{type:"GAME_CREATED",game:e}},gameChanged:function(e){return{type:"GAME_CHANGED",game:e}},gameDeleted:function(e){return{type:"GAME_DELETED",gameId:e}},userJoined:function(e){return{type:"USER_JOINED",login:e}},userLeaved:function(e){return{type:"USER_LEAVED",login:e}},messageChanged:Tt,sendMessage:function(){return function(e,t,n){var r=t().online.currentMessage.trim();r.length>0&&n.gameClient.sayInLobbyAsync(r),e(Tt(""))}},receiveMessage:St,createNewGame:function(e){return function(t,n,r){return gt(void 0,void 0,void 0,(function(){var a,o,i,s,c,l,p,d,m,h,g,f,y,E,A,b,v,T,I,w,C,N;return ft(this,(function(_){switch(_.label){case 0:if(a=n(),!e&&0===a.game.name.length)return t(It(S.gameNameMustBeSpecified)),[2];if(null===a.common.computerAccounts)return t(It(S.computerAccountsMissing)),[2];for(t({type:"GAME_CREATION_START"}),o=e?ht(ht({},a.game),{name:Pt().toString(),password:Pt().toString(),isShowmanHuman:!1,humanPlayersCount:0}):a.game,i=o.playersCount,s=o.humanPlayersCount,c=o.role,l={Name:a.user.login,IsHuman:!0,IsMale:0===a.settings.sex},p=2===c?l:o.isShowmanHuman?{Name:u.ANY_NAME,IsHuman:!0}:{Name:S.defaultShowman},d=[],m=[],0===c?m.push(l):1===c&&d.push(l),h=i-s-(1===c?1:0),g=[],f=0;f<a.common.computerAccounts.length;f++)g.push(f);for(f=0;f<s;f++)d.push({Name:u.ANY_NAME,IsHuman:!0});for(f=0;f<h;f++)y=Math.floor(Math.random()*g.length),d.push({Name:a.common.computerAccounts[g[y]],IsHuman:!1}),g.splice(y,1);E=o.type,A=a.settings.appSettings.timeSettings,b={TimeForChoosingQuestion:A.timeForChoosingQuestion,TimeForThinkingOnQuestion:A.timeForThinkingOnQuestion,TimeForPrintingAnswer:A.timeForPrintingAnswer,TimeForGivingACat:A.timeForGivingACat,TimeForMakingStake:A.timeForMakingStake,TimeForThinkingOnSpecial:A.timeForThinkingOnSpecial,TimeOfRound:A.timeOfRound,TimeForChoosingFinalTheme:A.timeForChoosingFinalTheme,TimeForFinalThinking:A.timeForFinalThinking,TimeForShowmanDecisions:A.timeForShowmanDecisions,TimeForRightAnswer:A.timeForRightAnswer,TimeForMediaDelay:A.timeForMediaDelay,TimeForBlockingButton:A.timeForBlockingButton},v={TimeSettings:b,ReadingSpeed:a.settings.appSettings.readingSpeed,FalseStart:a.settings.appSettings.falseStart,HintShowman:a.settings.appSettings.hintShowman,Oral:a.settings.appSettings.oral,OralPlayersActions:a.settings.appSettings.oralPlayersActions,IgnoreWrong:a.settings.appSettings.ignoreWrong,Managed:a.settings.appSettings.managed,GameMode:E.toString(),PartialText:a.settings.appSettings.partialText,PlayAllQuestionsInFinalRound:a.settings.appSettings.playAllQuestionsInFinalRound,AllowEveryoneToPlayHiddenStakes:a.settings.appSettings.allowEveryoneToPlayHiddenStakes,DisplaySources:a.settings.appSettings.displaySources,RandomQuestionsBasePrice:1===E?10:100,RandomRoundsCount:1===E?1:3,RandomThemesCount:1===E?5:6,Culture:ct(a),UsePingPenalty:a.settings.appSettings.usePingPenalty,ButtonPressMode:a.settings.appSettings.buttonPressMode.toString(),PreloadRoundContent:a.settings.appSettings.preloadRoundContent,UseApellations:a.settings.appSettings.useApellations},T={HumanPlayerName:a.user.login,RandomSpecials:0===o.package.type,NetworkGameName:o.name.trim(),NetworkGamePassword:o.password,NetworkVoiceChat:o.voiceChat,IsPrivate:e,AllowViewers:!0,Showman:p,Players:d,Viewers:m,AppSettings:v},_.label=1;case 1:return _.trys.push([1,13,,14]),1===o.package.type&&o.package.data?[4,xt(r.contentClient,o.package.data,t)]:[3,4];case 2:return w=_.sent(),[4,r.gameClient.createAndJoinGame2Async(T,w,0===a.settings.sex)];case 3:return I=_.sent(),[3,9];case 4:return 2===o.package.type&&o.package.uri?(w={Type:"LibraryItem",Uri:o.package.uri,ContentServiceUri:null,Secret:null},[4,r.gameClient.createAndJoinGame2Async(T,w,0===a.settings.sex)]):[3,6];case 5:return I=_.sent(),[3,9];case 6:return[4,gt(void 0,void 0,void 0,(function(){return ft(this,(function(e){return 0===o.package.type?[2,{Name:"",Hash:null,Id:null}]:[2,null]}))}))];case 7:return(C=_.sent())?[4,r.gameClient.createAndJoinGameAsync(T,C,0===a.settings.sex)]:(t(It(S.badPackage)),[2]);case 8:I=_.sent(),_.label=9;case 9:return Xn.saveStateToStorage(a),t(It()),"Ok"===I.Code?[3,10]:(t(It(ut(I.Code)+(I.ErrorMessage||""))),[3,12]);case 10:return t({type:"NEW_GAME_CANCEL"}),[4,Rt(t,r,I.GameId,c,!1)];case 11:_.sent(),_.label=12;case 12:return[3,14];case 13:return N=_.sent(),t(It(st(N))),[3,14];case 14:return[2]}}))}))}},createNewAutoGame:function(){return function(e,t,n){return gt(void 0,void 0,void 0,(function(){var r,a,o;return ft(this,(function(i){switch(i.label){case 0:r=t(),e({type:"GAME_CREATION_START"}),i.label=1;case 1:return i.trys.push([1,6,,7]),[4,n.gameClient.createAutomaticGameAsync(r.user.login,0===r.settings.sex)];case 2:return a=i.sent(),Xn.saveStateToStorage(r),e(It()),"Ok"===a.Code?[3,3]:(alert(ut(a.Code)+(a.ErrorMessage||"")),[3,5]);case 3:return[4,Rt(e,n,a.GameId,1,!0)];case 4:i.sent(),i.label=5;case 5:return[3,7];case 6:return o=i.sent(),e(It(o)),[3,7];case 7:return[2]}}))}))}}};const Mt=Gt;var Dt=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},Ht=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Lt=null,Bt=function(e){return{type:"ROOM_CHAT_MESSAGE_CHANGED",message:e}},jt=function(e){return{type:"CHAT_MESSAGE_ADDED",chatMessage:e}},Wt=function(){return{type:"ACTIVATE_CHAT"}},Vt=function(e){return{type:"SHOWMAN_REPLIC_CHANGED",replic:e}},Ut=function(e){return{type:"IS_PAUSED_CHANGED",isPaused:e}},Ft=function(e){return{type:"DECISION_NEEDED_CHANGED",decisionNeeded:e}},Zt=function(e){return{type:"IS_GAME_BUTTON_ENABLED",isGameButtonEnabled:e}},Yt=!1,zt=null,Qt=function(e,t){return{type:"SELECTION_ENABLED",allowedIndices:e,message:t}},Kt=function(e,t){var n=(e%60).toString();n.length<2&&(n="0".concat(e)),t(Vt("".concat(S.theGameWillStartIn," 00:00:").concat(n," ").concat(S.orByFilling))),e>0&&(Lt=window.setTimeout((function(){Kt(e-1,t)}),1e3))},qt=function(e){return{type:"STOP_TIMER",timerIndex:e}},Jt=function(){return{type:"CLEAR_DECISIONS_AND_MAIN_TIMER"}},Xt=function(){return{type:"ROOM_CHAT_CLEAR"}},$t={runChatModeChanged:function(e){return{type:"ROOM_CHAT_MODE_CHANGED",chatMode:e}},runChatMessageChanged:Bt,runChatMessageSend:function(){return function(e,t,n){var r=t(),a=r.room.chat.message;a.length>0&&n.gameClient.sayAsync(a),e(Bt("")),e(jt({sender:r.user.login,text:a,level:v.Information})),r.room.chat.isVisible||e({type:"ACTIVATE_CHAT"})}},markQuestion:function(){return function(e,t,n){return Dt(void 0,void 0,void 0,(function(){return Ht(this,(function(e){switch(e.label){case 0:return[4,n.gameClient.msgAsync("MARK")];case 1:return e.sent(),[2]}}))}))}},onPass:function(){return function(e,t,n){return Dt(void 0,void 0,void 0,(function(){return Ht(this,(function(e){switch(e.label){case 0:return[4,n.gameClient.msgAsync("PASS")];case 1:return e.sent(),[2]}}))}))}},pause:function(){return function(e,t,n){return Dt(void 0,void 0,void 0,(function(){return Ht(this,(function(e){switch(e.label){case 0:return[4,n.gameClient.msgAsync("PAUSE",t().room.stage.isGamePaused?"-":"+")];case 1:return e.sent(),[2]}}))}))}},editTable:function(){return{type:"EDIT_TABLE"}},giveTurn:function(){return function(e,t){return Dt(void 0,void 0,void 0,(function(){var n;return Ht(this,(function(r){return n=t().room.persons.players.map((function(e,t){return t})),e(Qt(n,"SETCHOOSER")),e(Vt(S.giveTurnHint)),[2]}))}))}},runShowPersons:function(){return{type:"ROOM_SHOW_PERSONS"}},runHidePersons:function(){return{type:"ROOM_HIDE_PERSONS"}},runShowTables:function(){return{type:"ROOM_SHOW_TABLES"}},runHideTables:function(){return{type:"ROOM_HIDE_TABLES"}},runShowBanned:function(){return{type:"ROOM_SHOW_BANNED"}},runHideBanned:function(){return{type:"ROOM_HIDE_BANNED"}},runShowGameInfo:function(){return{type:"ROOM_SHOW_GAMEINFO"}},runHideGameInfo:function(){return{type:"ROOM_HIDE_GAMEINFO"}},runShowManageGame:function(){return{type:"ROOM_SHOW_MANAGE_GAME"}},runHideManageGame:function(){return{type:"ROOM_HIDE_MANAGE_GAME"}},runChatVisibilityChanged:function(e){return{type:"ROOM_CHAT_VISIBILITY_CHANGED",isOpen:e}},playerSelected:function(e){return function(t,n,r){return Dt(void 0,void 0,void 0,(function(){return Ht(this,(function(a){switch(a.label){case 0:return[4,r.gameClient.msgAsync(n().room.selection.message,e)];case 1:return a.sent()&&(t({type:"CLEAR_DECISIONS"}),t(Vt(""))),[2]}}))}))}},exitGame:function(){return function(e,t,n){return Dt(void 0,void 0,void 0,(function(){return Ht(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,n.gameClient.leaveGameAsync()];case 1:return r.sent(),[3,3];case 2:return r.sent(),alert(S.exitError),[3,3];case 3:return Lt&&(window.clearTimeout(Lt),Lt=null),e(Ke.tableReset()),e({type:"ROOM_CHAT_CLEAR"}),e(qt(0)),e(qt(1)),e(qt(2)),e(Ut(!1)),e({type:"CLEAR_DECISIONS_AND_MAIN_TIMER"}),n.soundPlayer.pause(),t().ui.previousMainView===E.Lobby?Mt.navigateToLobby(-1)(e,t,n):e(nt()),[2]}}))}))}},chatMessageAdded:jt,lastReplicChanged:function(e){return{type:"LAST_REPLIC_CHANGED",chatMessage:e}},activateChat:Wt,showmanReplicChanged:Vt,playerReplicChanged:function(e,t){return{type:"PLAYER_REPLIC_CHANGED",playerIndex:e,replic:t}},infoChanged:function(e,t,n){return{type:"INFO_CHANGED",all:e,showman:t,players:n}},chatPersonSelected:function(e){return{type:"CHAT_PERSON_SELECTED",personName:e}},tableSelected:function(e){return{type:"TABLE_SELECTED",tableIndex:e}},addTable:function(){return function(e,t,n){return Dt(void 0,void 0,void 0,(function(){return Ht(this,(function(e){switch(e.label){case 0:return t().room.persons.players.length>=u.MAX_PLAYER_COUNT?[2]:[4,n.gameClient.msgAsync("CONFIG","ADDTABLE")];case 1:return e.sent(),[2]}}))}))}},deleteTable:function(){return function(e,t,n){return Dt(void 0,void 0,void 0,(function(){var e;return Ht(this,(function(r){switch(r.label){case 0:return(e=t().room.selectedTableIndex-1)<0||e>=t().room.persons.players.length?[2]:[4,n.gameClient.msgAsync("CONFIG","DELETETABLE",e)];case 1:return r.sent(),[2]}}))}))}},freeTable:function(){return function(e,t,n){return Dt(void 0,void 0,void 0,(function(){var e,r;return Ht(this,(function(a){switch(a.label){case 0:return(e=t().room.selectedTableIndex)<0||e>=t().room.persons.players.length+1?[2]:(r=0===e,[4,n.gameClient.msgAsync("CONFIG","FREE",r?"showman":"player",r?"":e-1)]);case 1:return a.sent(),[2]}}))}))}},setTable:function(e){return function(t,n,r){return Dt(void 0,void 0,void 0,(function(){var t,a;return Ht(this,(function(o){switch(o.label){case 0:return(t=n().room.selectedTableIndex)<0||t>=n().room.persons.players.length+1?[2]:(a=0===t,[4,r.gameClient.msgAsync("CONFIG","SET",a?"showman":"player",a?"":t-1,e)]);case 1:return o.sent(),[2]}}))}))}},changeType:function(){return function(e,t,n){return Dt(void 0,void 0,void 0,(function(){var e,r;return Ht(this,(function(a){switch(a.label){case 0:return(e=t().room.selectedTableIndex)<0||e>=t().room.persons.players.length+1?[2]:(r=0===e,[4,n.gameClient.msgAsync("CONFIG","CHANGETYPE",r?"showman":"player",r?"":e-1)]);case 1:return a.sent(),[2]}}))}))}},kickPerson:function(){return function(e,t,n){return Dt(void 0,void 0,void 0,(function(){var e;return Ht(this,(function(r){switch(r.label){case 0:return(e=t().room.chat.selectedPersonName)?[4,n.gameClient.msgAsync("KICK",e)]:[2];case 1:return r.sent(),[2]}}))}))}},banPerson:function(){return function(e,t,n){return Dt(void 0,void 0,void 0,(function(){var e;return Ht(this,(function(r){switch(r.label){case 0:return(e=t().room.chat.selectedPersonName)?[4,n.gameClient.msgAsync("BAN",e)]:[2];case 1:return r.sent(),[2]}}))}))}},setHost:function(){return function(e,t,n){return Dt(void 0,void 0,void 0,(function(){var e;return Ht(this,(function(r){switch(r.label){case 0:return(e=t().room.chat.selectedPersonName)?[4,n.game.setHost(e)]:[2];case 1:return r.sent(),[2]}}))}))}},personAvatarChanged:function(e,t){return{type:"PERSON_AVATAR_CHANGED",personName:e,avatarUri:t}},gameStarted:function(e){return{type:"GAME_STARTED",started:e}},stageChanged:function(e,t){return{type:"STAGE_CHANGED",stageName:e,roundIndex:t}},playersStateCleared:function(){return{type:"PLAYERS_STATE_CLEARED"}},gameStateCleared:function(){return{type:"GAME_STATE_CLEARED"}},sumsChanged:function(e){return{type:"SUMS_CHANGED",sums:e}},afterQuestionStateChanged:function(e){return{type:"AFTER_QUESTION_STATE_CHANGED",isAfterQuestion:e}},currentPriceChanged:function(e){return{type:"CURRENT_PRICE_CHANGED",currentPrice:e}},personAdded:function(e){return{type:"PERSON_ADDED",person:e}},personRemoved:function(e){return{type:"PERSON_REMOVED",name:e}},showmanChanged:function(e,t,n){return{type:"SHOWMAN_CHANGED",name:e,isHuman:t,isReady:n}},playerAdded:function(){return{type:"PLAYER_ADDED"}},playerChanged:function(e,t,n,r){return{type:"PLAYER_CHANGED",index:e,name:t,isHuman:n,isReady:r}},playerDeleted:function(e){return{type:"PLAYER_DELETED",index:e}},playersSwap:function(e,t){return{type:"PLAYERS_SWAP",index1:e,index2:t}},roleChanged:function(e){return{type:"ROLE_CHANGED",role:e}},playerStateChanged:function(e,t){return{type:"PLAYER_STATE_CHANGED",index:e,state:t}},playerLostStateDropped:function(e){return{type:"PLAYER_LOST_STATE_DROPPED",index:e}},isPausedChanged:Ut,playerStakeChanged:function(e,t){return{type:"PLAYER_STAKE_CHANGED",index:e,stake:t}},decisionNeededChanged:Ft,clearDecisions:function(){return{type:"CLEAR_DECISIONS"}},selectQuestion:function(e,t){return function(n,r,a){return Dt(void 0,void 0,void 0,(function(){var o;return Ht(this,(function(i){switch(i.label){case 0:return r().table.isSelectable?(o=r().table.roundInfo[e])&&o.questions[t]>-1?[4,a.gameClient.msgAsync("CHOICE",e,t)]:[3,2]:[2];case 1:i.sent()&&(n(Ke.isSelectableChanged(!1)),n(Ft(!1))),i.label=2;case 2:return[2]}}))}))}},toggleQuestion:function(e,t){return function(n,r,a){return Dt(void 0,void 0,void 0,(function(){var n;return Ht(this,(function(o){switch(o.label){case 0:return(n=r().table.roundInfo[e])&&n.questions[t]?[4,a.game.toggle(e,t)]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}}))}))}},selectTheme:function(e){return function(t,n,r){return Dt(void 0,void 0,void 0,(function(){return Ht(this,(function(a){switch(a.label){case 0:return n().table.isSelectable?n().table.roundInfo[e]?[4,r.gameClient.msgAsync("DELETE",e)]:[3,2]:[2];case 1:a.sent()&&(t(Ke.isSelectableChanged(!1)),t(Ft(!1))),a.label=2;case 2:return[2]}}))}))}},pressGameButton:function(){return function(e,t,n){return Dt(void 0,void 0,void 0,(function(){var r;return Ht(this,(function(a){switch(a.label){case 0:return r=Date.now()-t().table.canPressUpdateTime,[4,n.game.pressButton(r)];case 1:return a.sent()?(e(Zt(!1)),setTimeout((function(){e(Zt(!0))}),1e3*t().room.buttonBlockingTimeSeconds),[2]):[2]}}))}))}},apellate:function(){return function(e,t,n){return Dt(void 0,void 0,void 0,(function(){return Ht(this,(function(e){switch(e.label){case 0:return[4,n.gameClient.msgAsync("APELLATE","+")];case 1:return e.sent(),[2]}}))}))}},disagree:function(){return function(e,t,n){return Dt(void 0,void 0,void 0,(function(){return Ht(this,(function(e){switch(e.label){case 0:return[4,n.gameClient.msgAsync("APELLATE","-")];case 1:return e.sent(),[2]}}))}))}},isAnswering:function(){return{type:"IS_ANSWERING"}},updateAnswer:function(e){return function(t,n,r){return Dt(void 0,void 0,void 0,(function(){return Ht(this,(function(n){return t(function(e){return{type:"ANSWER_CHANGED",answer:e}}(e)),Yt||(Yt=!0,zt=window.setTimeout((function(){return Dt(void 0,void 0,void 0,(function(){return Ht(this,(function(t){switch(t.label){case 0:return Yt=!1,[4,r.game.sendAnswerVersion(e)];case 1:return t.sent(),[2]}}))}))}),3e3)),[2]}))}))}},sendAnswer:function(){return function(e,t,n){return Dt(void 0,void 0,void 0,(function(){var r;return Ht(this,(function(a){switch(a.label){case 0:return zt&&(window.clearTimeout(zt),zt=null),r=t().room.answer,[4,n.gameClient.msgAsync("ANSWER",r)];case 1:return a.sent()&&e({type:"CLEAR_DECISIONS"}),[2]}}))}))}},validate:function(e,t,n,r,a,o,i){return{type:"VALIDATE",name:e,answer:t,rightAnswers:n,wrongAnswers:r,header:a,message:o,showExtraRightButtons:i}},approveAnswer:function(e){return function(t,n,r){return Dt(void 0,void 0,void 0,(function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,r.gameClient.msgAsync("ISRIGHT","+",e)];case 1:return n.sent()&&t({type:"CLEAR_DECISIONS"}),[2]}}))}))}},rejectAnswer:function(){return function(e,t,n){return Dt(void 0,void 0,void 0,(function(){return Ht(this,(function(t){switch(t.label){case 0:return[4,n.gameClient.msgAsync("ISRIGHT","-")];case 1:return t.sent()&&e({type:"CLEAR_DECISIONS"}),[2]}}))}))}},setStakes:function(e,t,n,r,a,o,i){return{type:"SET_STAKES",allowedStakeTypes:e,minimum:t,maximum:n,stake:r,step:a,message:o,areSimple:i}},stakeChanged:function(e){return{type:"STAKE_CHANGED",stake:e}},sendNominal:function(){return function(e,t,n){return Dt(void 0,void 0,void 0,(function(){return Ht(this,(function(t){switch(t.label){case 0:return[4,n.gameClient.msgAsync("STAKE",0)];case 1:return t.sent()&&e({type:"CLEAR_DECISIONS"}),[2]}}))}))}},sendStake:function(e){return function(t,n,r){return Dt(void 0,void 0,void 0,(function(){var a,o;return Ht(this,(function(i){switch(i.label){case 0:return"STAKE"!==(a=n()).room.stakes.message?[3,2]:[4,r.gameClient.msgAsync("STAKE",1,null!=e?e:a.room.stakes.stake)];case 1:return o=i.sent(),[3,4];case 2:return[4,r.gameClient.msgAsync(a.room.stakes.message,null!=e?e:a.room.stakes.stake)];case 3:o=i.sent(),i.label=4;case 4:return o&&t({type:"CLEAR_DECISIONS"}),[2]}}))}))}},sendPass:function(){return function(e,t,n){return Dt(void 0,void 0,void 0,(function(){return Ht(this,(function(t){switch(t.label){case 0:return[4,n.gameClient.msgAsync("STAKE",2)];case 1:return t.sent()&&e({type:"CLEAR_DECISIONS"}),[2]}}))}))}},sendAllIn:function(){return function(e,t,n){return Dt(void 0,void 0,void 0,(function(){return Ht(this,(function(t){switch(t.label){case 0:return[4,n.gameClient.msgAsync("STAKE",3)];case 1:return t.sent()&&e({type:"CLEAR_DECISIONS"}),[2]}}))}))}},selectionEnabled:Qt,showLeftSeconds:Kt,onMediaEnded:function(){return function(e,t,n){return Dt(void 0,void 0,void 0,(function(){return Ht(this,(function(e){switch(e.label){case 0:return[4,n.gameClient.msgAsync("ATOM")];case 1:return e.sent(),[2]}}))}))}},areSumsEditableChanged:function(e){return{type:"ARE_SUMS_EDITABLE_CHANGED",areSumsEditable:e}},changePlayerSum:function(e,t){return function(n,r,a){return Dt(void 0,void 0,void 0,(function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,a.gameClient.msgAsync("CHANGE",e+1,t)];case 1:return n.sent(),[2]}}))}))}},readingSpeedChanged:function(e){return{type:"READING_SPEED_CHANGED",readingSpeed:e}},runTimer:function(e,t,n){return{type:"RUN_TIMER",timerIndex:e,maximumTime:t,runByUser:n}},pauseTimer:function(e,t,n){return{type:"PAUSE_TIMER",timerIndex:e,currentTime:t,pausedByUser:n}},resumeTimer:function(e,t){return{type:"RESUME_TIMER",timerIndex:e,runByUser:t}},stopTimer:qt,timerMaximumChanged:function(e,t){return{type:"TIMER_MAXIMUM_CHANGED",timerIndex:e,maximumTime:t}},activateShowmanDecision:function(){return{type:"ACTIVATE_SHOWMAN_DECISION"}},activatePlayerDecision:function(e){return{type:"ACTIVATE_PLAYER_DECISION",playerIndex:e}},showMainTimer:function(){return{type:"SHOW_MAIN_TIMER"}},clearDecisionsAndMainTimer:Jt,hintChanged:function(e){return{type:"HINT_CHANGED",hint:e}},startGame:function(){return function(e,t,n){return Dt(void 0,void 0,void 0,(function(){return Ht(this,(function(e){switch(e.label){case 0:return[4,n.gameClient.msgAsync("START")];case 1:return e.sent(),[2]}}))}))}},operationError:function(e){return{type:"OPERATION_ERROR",error:e}},hostNameChanged:function(e){return{type:"HOST_NAME_CHANGED",hostName:e}},themeNameChanged:function(e){return{type:"THEME_NAME_CHANGED",themeName:e}},updateCaption:function(e){return function(t,n){var r=n().room.stage.themeName;t(Ke.captionChanged("".concat(r,", ").concat(e)))}},moveNext:function(){return function(e,t,n){return Dt(void 0,void 0,void 0,(function(){return Ht(this,(function(e){switch(e.label){case 0:return[4,n.gameClient.msgAsync("MOVE","1")];case 1:return e.sent(),[2]}}))}))}},navigateToRound:function(e){return function(t,n,r){return Dt(void 0,void 0,void 0,(function(){return Ht(this,(function(t){switch(t.label){case 0:return[4,r.gameClient.msgAsync("MOVE","3",e)];case 1:return t.sent(),[2]}}))}))}},isReadyChanged:function(e,t){return{type:"IS_READY_CHANGED",personIndex:e,isReady:t}},ready:function(e){return function(t,n,r){return Dt(void 0,void 0,void 0,(function(){return Ht(this,(function(t){switch(t.label){case 0:return[4,r.gameClient.msgAsync("READY",e?"+":"-")];case 1:return t.sent(),[2]}}))}))}},roundsNamesChanged:function(e){return{type:"ROUNDS_NAMES_CHANGED",roundsNames:e}},chooserChanged:function(e){return{type:"CHOOSER_CHANGED",chooserIndex:e}},playerInGameChanged:function(e,t){return{type:"PLAYER_IN_GAME_CHANGED",playerIndex:e,inGame:t}},areApellationsEnabledChanged:function(e){return{type:"ARE_APELLATIONS_ENABLED_CHANGED",areApellationsEnabled:e}},buttonBlockingTimeChanged:function(e){return{type:"BUTTON_BLOCKING_TIME_CHANGED",buttonBlockingTime:e}},gameMetadataChanged:function(e,t,n,r){return{type:"GAME_METADATA_CHANGED",gameName:e,packageName:t,contactUri:n,voiceChatUri:r}},bannedListChanged:function(e){return{type:"BANNED_LIST_CHANGED",bannedList:e}},banned:function(e,t){return{type:"BANNED",ip:e,name:t}},unbanned:function(e){return{type:"UNBANNED",ip:e}},selectBannedItem:function(e){return{type:"SELECT_BANNED_ITEM",ip:e}},unban:function(e){return function(t,n,r){return Dt(void 0,void 0,void 0,(function(){return Ht(this,(function(t){switch(t.label){case 0:return[4,r.game.unban(e)];case 1:return t.sent(),[2]}}))}))}},playerMediaLoaded:function(e){return{type:"PLAYER_MEDIA_LOADED",playerIndex:e}},mediaLoaded:function(){return function(e,t,n){return Dt(void 0,void 0,void 0,(function(){return Ht(this,(function(e){switch(e.label){case 0:return[4,n.game.mediaLoaded()];case 1:return e.sent(),[2]}}))}))}},clearRoomChat:Xt,joinModeChanged:function(e){return{type:"JOIN_MODE_CHANGED",joinMode:e}},setJoinMode:function(e){return function(t,n,r){return Dt(void 0,void 0,void 0,(function(){return Ht(this,(function(t){switch(t.label){case 0:return n().room.joinMode===e?[3,2]:[4,r.game.setJoinMode(e)];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}},selectAnswerOption:function(e){return function(t,n,r){return Dt(void 0,void 0,void 0,(function(){return Ht(this,(function(a){switch(a.label){case 0:return n().table.isSelectable?[4,r.gameClient.msgAsync("ANSWER",e)]:[2];case 1:return a.sent()&&(t(Ke.isSelectableChanged(!1)),t(Ft(!1))),[2]}}))}))}}};const en=$t;function tn(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e.replace(/{(\d+)}/g,(function(e,n){return t[n]||""}))}function nn(e,t){return e.length<t?e:e.substring(0,t-1)+"…"}var rn;!function(e){e[e.None=0]="None",e[e.Nominal=1]="Nominal",e[e.Stake=2]="Stake",e[e.Pass=4]="Pass",e[e.AllIn=8]="AllIn"}(rn||(rn={}));const an=rn;var on,sn=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))};function cn(e){return e.replaceAll("\\n","\n").replaceAll("\\\\","\\")}var ln=function(e,t){return function(n,r,a){var o=r(),i=o.room.role,s=t.Text.split("\n");pn(e,n,o,a,s),1===i?fn(n,o,a,s):2===i&&yn(n,o,a,s)}},un=function(e){return function(t,n){if(e.Sender!==n().user.login){var r={sender:e.Sender,text:e.Text,level:v.Information};t(en.chatMessageAdded(r)),!n().room.chat.isVisible&&n().ui.windowWidth<800&&(t(en.lastReplicChanged(r)),on&&window.clearTimeout(on),on=window.setTimeout((function(){t(en.lastReplicChanged(null))}),3e3))}}},pn=function(e,t,n,r,a){switch(a[0]){case"ADS":if(1===a.length)break;t(Ke.showText(a[1],!1));break;case"APELLATION_ENABLES":if(1===a.length)break;t(en.areApellationsEnabledChanged("+"===a[1]));break;case"ATOM_HINT":case"FALSESTART":default:break;case"BANNED":if(a.length<3)break;t(en.banned(a[1],a[2]));break;case"BANNEDLIST":for(var o={},i=1;i<a.length-1;i+=2)o[a[i]]=a[i+1];t(en.bannedListChanged(o));break;case"BUTTON_BLOCKING_TIME":if(1===a.length)break;t(en.buttonBlockingTimeChanged(parseInt(a[1],10)));break;case"CHOICE":var c=parseInt(a[1],10),l=parseInt(a[2],10);t(en.playersStateCleared()),t(en.afterQuestionStateChanged(!1)),t(Ke.questionReset()),(k=n.table.roundInfo[c])&&(fe=k.questions[l])&&(t(en.currentPriceChanged(fe)),t(Ke.captionChanged("".concat(k.name,", ").concat(fe))),t(Ke.blinkQuestion(c,l)),setTimeout((function(){t(Ke.updateQuestion(c,l,-1))}),5e3));break;case"CONFIG":In.apply(void 0,sn([t,n],a,!1));break;case"CONNECTED":Sn.apply(void 0,sn([t,n],a,!1));break;case"CONTENT":if(a.length<5)return;var p=a[1],d=n.table,m=d.layoutMode,h=d.answerOptions,g=[];for(i=2;i+2<a.length;i++)if(0===(b=parseInt(a[i],10)))g.push({type:a[i+1],value:"text"===a[i+1]?cn(a[i+2]):a[i+2]}),i+=2;else if(1===m&&i+3<a.length&&b-1<h.length){var f=a[i+1],y=a[i+2],E=a[i+3];"text"!==y&&"image"!==y||e.onAnswerOption(b-1,f,y,E),i+=3}if(0===g.length)return;e.onContent(p,g);break;case"CONTENT_APPEND":if(a.length<5)return;var A=a[1],b=a[2];if(y=a[3],E=a[4],"screen"!==A||"0"!==b||"text"!==y)return;var T=cn(E);e.onContentAppend(A,b,y,T);break;case"CONTENT_SHAPE":if(a.length<5)return;var I=cn(a[4]);e.onContentShape(I);break;case"CONTENT_STATE":if(a.length<4)return;var w=a[1],C=(b=parseInt(a[2],10),F[a[3]]);e.onContentState(w,b,C);break;case"DISCONNECTED":Tn.apply(void 0,sn([t,n],a,!1));break;case"ENDTRY":var N=Number(a[1]);!isNaN(N)&&N>-1&&N<n.room.persons.players.length?e.onEndPressButtonByPlayer(N):"A"===a[1]&&e.onEndPressButtonByTimeout();break;case"FINALROUND":var _=n.room.persons.players.length;for(i=1;i<Math.min(a.length,_+1);i++)t(en.playerInGameChanged(i-1,"+"===a[i]));t(en.afterQuestionStateChanged(!1));break;case"FINALTHINK":wn(r,n.settings.appSound,"final_think",!0);break;case"GAMEMETADATA":if(a.length<4)break;t(en.gameMetadataChanged(a[1],a[2],a[3],a.length>4?a[4]:null));break;case"GAMETHEMES":e.onGameThemes(a.slice(1));break;case"HOSTNAME":if(a.length>1&&(t(en.hostNameChanged(a[1])),a.length>2)){var x=a[2].length>0?a[2]:S.byGame;t(en.chatMessageAdded({sender:"",text:tn(S.hostNameChanged,x,a[1]),level:v.System}))}break;case"INFO2":vn.apply(void 0,sn([t],a,!1));break;case"LAYOUT":if(a.length<5)return;if("ANSWER_OPTIONS"!==a[1])return;var P="+"===a[2];e.onAnswerOptionsLayout(P,a.slice(3));break;case"MEDIALOADED":if(a.length<2)break;var R=n.room.persons.players;for(i=0;i<R.length;i++)if(R[i].name===a[1]){t(en.playerMediaLoaded(i));break}break;case"OUT":var O=parseInt(a[1],10),k=n.table.roundInfo[O];wn(r,n.settings.appSound,"final_delete"),k&&(t(Ke.blinkTheme(O)),setTimeout((function(){t(Ke.removeTheme(O))}),600));break;case"PASS":(B=parseInt(a[1],10))>-1&&B<n.room.persons.players.length&&t(en.playerStateChanged(B,G.Pass));break;case"PAUSE":var M="+"===a[1];t(en.isPausedChanged(M)),a.length>4&&(M?(t(en.pauseTimer(0,a[2],!0)),t(en.pauseTimer(1,a[3],!0)),t(en.pauseTimer(2,a[4],!0))):(t(en.resumeTimer(0,!0)),t(en.resumeTimer(1,!0)),t(en.resumeTimer(2,!0))));break;case"PERSON":var D="+"===a[1],H=parseInt(a[2],10);if(H>-1&&H<n.room.persons.players.length){t(en.playerStateChanged(H,D?G.Right:G.Wrong));var L=n.room.stage.currentPrice>=2e3?"applause_big":"applause_small";wn(r,n.settings.appSound,D?L:"answer_wrong")}break;case"PERSONAPELLATED":case"PERSONFINALANSWER":(B=parseInt(a[1],10))>-1&&B<n.room.persons.players.length&&t(en.playerStateChanged(B,G.HasAnswered));break;case"PERSONFINALSTAKE":if(B=parseInt(a[1],10),!(ye=n.room.persons.players[B]))break;t(en.playerStakeChanged(B,u.HIDDEN_STAKE));break;case"PERSONSTAKE":var B=parseInt(a[1],10);if(!(ye=n.room.persons.players[B]))break;var j=0;switch(parseInt(a[2],10)){case 0:j=n.room.stage.currentPrice;break;case 1:j=parseInt(a[3],10);break;case 2:j=0;break;case 3:j=ye.sum}t(en.playerStakeChanged(B,j));break;case"PICTURE":var W=a[1],V=e.preprocessServerUri(a[2]);t(en.personAvatarChanged(W,V));break;case"QTYPE":switch(a[1]){case"auction":case"stake":wn(r,n.settings.appSound,"question_stake"),t(Ke.showSpecial(S.questionTypeStake,n.table.activeThemeIndex));break;case"cat":case"bagcat":case"secret":case"secretPublicPrice":case"secretNoQuestion":wn(r,n.settings.appSound,"question_secret"),t(Ke.showSpecial(S.questionTypeSecret)),t(Ke.questionReset());break;case"sponsored":case"noRisk":wn(r,n.settings.appSound,"question_norisk"),t(Ke.showSpecial(S.questionTypeNoRisk))}break;case"QUESTION":a.length>1&&(t(en.playersStateCleared()),t(Ke.showText(a[1],!1)),t(en.afterQuestionStateChanged(!1)),t(en.updateCaption(a[1])),t(Ke.questionReset()));break;case"QUESTIONCAPTION":a.length>1&&t(Ke.captionChanged(a[1]));break;case"QUESTION_END":t(en.afterQuestionStateChanged(!0)),t(Ke.endQuestion());break;case"READINGSPEED":if(a.length<2)break;t(en.readingSpeedChanged(parseInt(a[1],10)));break;case"READY":if(a.length<2)break;!function(e,t,n,r){var a;if(e===r.room.persons.showman.name)a=-1;else if(-1===(a=r.room.persons.players.findIndex((function(t){return t.name===e}))))return;n(en.isReadyChanged(a,t))}(a[1],a.length<3||"+"===a[2],t,n);break;case"REPLIC":if(a.length<3)break;var U=a[1],Z="";for(i=2;i<a.length;i++)Z.length>0&&(Z+=" "),Z+=a[i];e.onReplic(U,Z);break;case"RESUME":t(Ke.resumeMedia());break;case"RIGHTANSWER":0===n.table.layoutMode?(t(Ke.showAnswer(a[2])),t(Ke.captionChanged(""))):t(Ke.rightOption(a[2])),t(en.afterQuestionStateChanged(!0));break;case"RIGHT_ANSWER_START":if(a.length>2){var Y=nn(cn(a[2]),150);e.onRightAnswerStart(Y)}break;case"ROUNDCONTENT":a.slice(1).forEach((function(n){var r=e.preprocessServerUri(n);fetch(r).then((function(e){e.ok||t(en.chatMessageAdded({sender:"",text:e.statusText,level:v.System}))})).catch((function(e){t(en.chatMessageAdded({sender:"",text:e.message,level:v.System}))}))}));break;case"ROUNDSNAMES":t(en.roundsNamesChanged(a.slice(1)));break;case"ROUNDTHEMES":var z="+"===a[1],Q=[];for(i=2;i<a.length;i++)Q.push(a[i]);e.onRoundThemes(Q,z);break;case"SETCHOOSER":var K=parseInt(a[1],10);t(en.chooserChanged(K)),a.length>2&&t(en.playerStateChanged(K,G.Press));break;case"SETJOINMODE":if(a.length<2)break;var q=s[a[1]];if(void 0===q)break;t(en.joinModeChanged(q));break;case"SHOWTABLO":t(Ke.showRoundTable()),r.soundPlayer.pause();break;case"STAGE":var J=a[1],X=a[2],$=a.length>3?parseInt(a[3],10):-1;e.onStage(J,X,$);break;case"STOP":t(en.stopTimer(0)),t(en.stopTimer(1)),t(en.stopTimer(2)),t(Ke.showLogo());break;case"SUMS":var ee=Math.min(a.length-1,Object.keys(n.room.persons.players).length),te=[];for(i=0;i<ee;i++)te.push(parseInt(a[i+1],10));t(en.sumsChanged(te));break;case"TABLO2":var ne=n.table.roundInfo;if(ne.some((function(e){return e.questions.length>0})))break;var re=1,ae=[],oe=0;for(i=0;i<ne.length&&re!==a.length;i++){for(var ie=[];re<a.length&&a[re].length>0;)ie.push(parseInt(a[re++],10));oe=Math.max(oe,ie.length);var se={name:ne[i].name,questions:ie};ae.push(se),re++}ae.forEach((function(e){for(var t=e.questions.length,n=0;n<oe-t;n++)e.questions.push(-1)})),t(Ke.showRoundThemes(ae,"Final"===n.room.stage.name,!1));break;case"TIMEOUT":wn(r,n.settings.appSound,"round_timeout");break;case"TIMER":if(!n.room.stage.isGameStarted&&n.game.isAutomatic&&5===a.length&&"2"===a[1]&&"GO"===a[2]&&"-2"===a[4]){var ce=parseInt(a[3],10)/10;en.showLeftSeconds(ce,t)}else if(a.length>2){var le=parseInt(a[1],10),ue=a[2],pe=a.length>3?parseInt(a[3],10):0,de=a.length>4?parseInt(a[4],10):null;switch(ue){case"GO":t(en.runTimer(le,pe,!1)),2===le&&null!==de&&(-1===de?t(en.activateShowmanDecision()):-2===de?t(en.showMainTimer()):de>-1&&de<n.room.persons.players.length&&t(en.activatePlayerDecision(de)));break;case"STOP":t(en.stopTimer(le)),2===le&&(t(en.clearDecisionsAndMainTimer()),r.soundPlayer.pause());break;case"PAUSE":t(en.pauseTimer(le,pe,!1));break;case"USER_PAUSE":t(en.pauseTimer(le,pe,!0));break;case"RESUME":t(en.resumeTimer(le,!1));break;case"USER_RESUME":t(en.resumeTimer(le,!0));break;case"MAXTIME":t(en.timerMaximumChanged(le,pe))}}break;case"THEME":a.length>1&&(t(en.playersStateCleared()),t(en.showmanReplicChanged("")),t(Ke.showText("".concat(S.theme,": ").concat(a[1]),!1)),t(en.afterQuestionStateChanged(!1)),t(en.themeNameChanged(a[1])));break;case"THEME_COMMENTS":if(a.length>1){var me=nn(cn(a[1]),150);e.onThemeComments(me)}break;case"TOGGLE":if(a.length>3){var he=parseInt(a[1],10),ge=parseInt(a[2],10),fe=parseInt(a[3],10);(k=n.table.roundInfo[he])&&k.questions[ge]&&t(Ke.updateQuestion(he,ge,fe))}break;case"TRY":e.onBeginPressButton();break;case"UNBANNED":if(a.length<2)break;t(en.unbanned(a[1])),t(en.chatMessageAdded({sender:"",text:tn(S.userUnbanned,a[1]),level:v.System}));break;case"WINNER":wn(r,n.settings.appSound,"applause_final");break;case"WRONGTRY":var ye,Ee=parseInt(a[1],10),Ae=n.room.persons.players;Ee>-1&&Ee<Ae.length&&(ye=Ae[Ee]).state===G.None&&(t(en.playerStateChanged(Ee,G.Lost)),setTimeout((function(){t(en.playerLostStateDropped(Ee))}),800))}};function dn(e,t){var n=bn(t);e(en.selectionEnabled(n,"CAT"))}function mn(e,t){var n,r=((n={})[0]=!1,n[1]=!0,n[2]=!1,n[3]=!1,n),a=parseInt(t[1],10),o=parseInt(t[2],10),i=parseInt(t[3],10);e(en.setStakes(r,a,o,a,i,"CATCOST",!0)),e(en.decisionNeededChanged(!0))}function hn(e){e(en.decisionNeededChanged(!0)),e(Ke.isSelectableChanged(!0))}function gn(e,t,n,r){var a;if(!(n.length<4)){var o=function(e){var t=e.split(",").map((function(e){return e.trim()})),n=0;return t.forEach((function(e){switch(e){case"Nominal":n|=rn.Nominal;break;case"Stake":n|=rn.Stake;break;case"Pass":n|=rn.Pass;break;case"AllIn":n|=rn.AllIn}})),n}(n[1]),i=((a={})[0]=(o&an.Nominal)>0,a[1]=(o&an.Stake)>0,a[2]=(o&an.Pass)>0,a[3]=(o&an.AllIn)>0,a),s=parseInt(n[2],10),c=parseInt(n[3],10);e(en.setStakes(i,s,r,s,c,"STAKE",!1)),e(en.decisionNeededChanged(!0))}}var fn=function(e,t,n,r){var a;switch(r[0]){case"ANSWER":0===t.table.layoutMode?e(en.isAnswering()):(e(en.decisionNeededChanged(!0)),e(Ke.isSelectableChanged(!0)));break;case"CANCEL":e(en.clearDecisions());break;case"CAT":dn(e,r);break;case"CATCOST":mn(e,r);break;case"CHOOSE":hn(e);break;case"FINALSTAKE":var o=lt(t);if(!o)break;var i=((a={})[0]=!1,a[1]=!0,a[2]=!1,a[3]=!1,a);e(en.setStakes(i,1,o.sum,1,1,"FINALSTAKE",!0)),e(en.decisionNeededChanged(!0));break;case"REPORT":default:break;case"STAKE2":var s=lt(t);if(!s)return;gn(e,0,r,s.sum);break;case"VALIDATION":En(e,S.apellation,r);break;case"VALIDATION2":An(e,S.apellation,r)}},yn=function(e,t,n,r){switch(r[0]){case"CANCEL":e(en.clearDecisions());break;case"FIRST":var a=bn(r);e(en.selectionEnabled(a,"FIRST")),e(en.showmanReplicChanged(S.selectFirstPlayer));break;case"FIRSTDELETE":a=bn(r),e(en.selectionEnabled(a,"NEXTDELETE")),e(en.showmanReplicChanged(S.selectThemeDeleter));break;case"FIRSTSTAKE":a=bn(r),e(en.selectionEnabled(a,"NEXT")),e(en.showmanReplicChanged(S.selectStaker));break;case"HINT":r.length>1&&e(en.hintChanged(r[1]));break;case"RIGHTANSWER":e(en.hintChanged(null));break;case"STAGE":e(en.decisionNeededChanged(!1)),e(en.hintChanged(null));break;case"VALIDATION":En(e,S.answerChecking,r);break;case"VALIDATION2":An(e,S.answerChecking,r);break;case"CAT":dn(e,r);break;case"CATCOST":mn(e,r);break;case"CHOOSE":hn(e);break;case"STAKE2":if(r.length<6)break;var o=r[4];r[5],gn(e,0,r,parseInt(o,10))}};function En(e,t,n){if(!(n.length<5)){for(var r=n[1],a=n[2],o=(n[3],Math.min(parseInt(n[4],10),n.length-5)),i=[],s=0;s<o;s++)i.push(n[5+s]);var c=[];for(s=5+o;s<n.length;s++)c.push(n[s]);var l="".concat(S.playersAnswer," ").concat(r,' "').concat(a,'". ').concat(S.validateAnswer);e(en.validate(r,a,i,c,t,l,!1))}}function An(e,t,n){if(!(n.length<6)){for(var r=n[1],a=n[2],o="+"==n[4],i=Math.min(parseInt(n[5],10),n.length-5),s=[],c=0;c<i;c++)s.push(n[6+c]);var l=[];for(c=6+i;c<n.length;c++)l.push(n[c]);var u="".concat(S.playersAnswer," ").concat(r,' "').concat(a,'". ').concat(S.validateAnswer);e(en.validate(r,a,s,l,t,u,o))}}function bn(e){for(var t=[],n=0;n+1<e.length;n++)"+"===e[n+1]&&t.push(n);return t}function vn(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=parseInt(t[1],10),a=(t.length-2)/5-1-r,o=2,i=t[o++],s="+"===t[o++],c="+"===t[o++],l="+"===t[o++],u="+"===t[o++],p={},d={name:i,isReady:u,replic:null,isDeciding:!1,isHuman:l};c&&(p[i]={name:i,sex:s?0:1,isHuman:l,avatar:null});for(var m=[],h=0;h<r;h++)i=t[o++],s="+"===t[o++],c="+"===t[o++],l="+"===t[o++],u="+"===t[o++],m.push({name:i,isReady:u,sum:0,stake:0,state:G.None,canBeSelected:!1,replic:null,isDeciding:!1,isHuman:l,isChooser:!1,inGame:!0,mediaLoaded:!1}),c&&(p[i]={name:i,sex:s?0:1,isHuman:l,avatar:null});for(h=0;h<a;h++)i=t[o++],s="+"===t[o++],c="+"===t[o++],l="+"===t[o++],u="+"===t[o++],p[i]={name:i,sex:s?0:1,isHuman:l,avatar:null};e(en.infoChanged(p,d,m)),e(Xn.sendAvatar())}function Sn(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var a=n[3];if(a!==t.user.login){var o=n[1],i=parseInt(n[2],10),s={name:a,sex:"+"===n[4]?0:1,isHuman:!0,avatar:null};switch(e(en.personAdded(s)),o){case"showman":e(en.showmanChanged(a,!0,!1));break;case"player":e(en.playerChanged(i,a,!0,!1))}}}function Tn(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var a=n[1];if(e(en.personRemoved(a)),t.room.persons.showman.name===a)e(en.showmanChanged(u.ANY_NAME,null,!1));else for(var o=0;o<t.room.persons.players.length;o++)if(t.room.persons.players[o].name===a){e(en.playerChanged(o,u.ANY_NAME,null,!1));break}}function In(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];switch(n[1]){case"ADDTABLE":e(en.playerAdded());break;case"FREE":var a=n[2],o=parseInt(n[3],10);e((g="player"===a)?en.playerChanged(o,u.ANY_NAME,null,!1):en.showmanChanged(u.ANY_NAME,null,!1)),(p=g?t.room.persons.players[o]:t.room.persons.showman).name===t.user.login&&e(en.roleChanged(0));break;case"DELETETABLE":o=parseInt(n[2],10);var i=t.room.persons.players[o],s=t.room.persons.all[i.name];e(en.playerDeleted(o)),s&&!s.isHuman?e(en.personRemoved(s.name)):i.name===t.user.login&&e(en.roleChanged(0));break;case"SET":a=n[2],o=parseInt(n[3],10);var c=n[4],l="+"===n[5]?0:1,p=(g="player"===a)?t.room.persons.players[o]:t.room.persons.showman;if((s=t.room.persons.all[p.name])&&!s.isHuman){e(g?en.playerChanged(o,c,null,!1):en.showmanChanged(c,null,!1)),e(en.personRemoved(s.name));var d={name:c,isHuman:!1,sex:l,avatar:null};e(en.personAdded(d));break}if(t.room.persons.showman.name===c){e(en.showmanChanged(p.name,!0,p.isReady)),e(en.playerChanged(o,c,!0,t.room.persons.showman.isReady)),p.name===t.user.login?e(en.roleChanged(2)):c===t.user.login&&e(en.roleChanged(1));break}for(var m=0;m<t.room.persons.players.length;m++)if(t.room.persons.players[m].name===c){if(g)e(en.playersSwap(o,m));else{var h=t.room.persons.players[m].isReady;e(en.playerChanged(m,p.name,null,p.isReady)),e(en.showmanChanged(c,null,h)),t.room.persons.showman.name===t.user.login?e(en.roleChanged(1)):c===t.user.login&&e(en.roleChanged(2))}return}e(g?en.playerChanged(o,c,null,!1):en.showmanChanged(c,null,!1)),p.name===t.user.login?e(en.roleChanged(0)):c===t.user.login&&e(en.roleChanged(g?1:2));break;case"CHANGETYPE":a=n[2],o=parseInt(n[3],10);var g,f="+"===n[4],y=n[5],E="+"===n[6]?0:1;if(p=(g="player"===a)?t.room.persons.players[o]:t.room.persons.showman,(s=t.room.persons.all[p.name])&&s.isHuman===f)break;f||(d={name:y,isHuman:!1,sex:E,avatar:null},e(en.personAdded(d))),e(g?en.playerChanged(o,y,f,!1):en.showmanChanged(y,f,!1)),f&&e(en.personRemoved(s.name)),s.name===t.user.login&&e(en.roleChanged(0))}}function wn(e,t,n,r){void 0===r&&(r=!1),t&&e.soundPlayer.play(n,r)}var Cn=function(e){return{type:"IS_CONNECTED_CHANGED",isConnected:e}};const Nn={isConnectedChanged:Cn,computerAccountsChanged:function(e){return{type:"COMPUTER_ACCOUNTS_CHANGED",computerAccounts:e}},onConnectionClosed:function(e){return function(t){return n=void 0,r=void 0,o=function(){return function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(n){return t(Cn(!1)),alert(e),window.location.reload(),[2]}))},new((a=void 0)||(a=Promise))((function(e,t){function i(e){try{c(o.next(e))}catch(e){t(e)}}function s(e){try{c(o.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(i,s)}c((o=o.apply(n,r||[])).next())}));var n,r,a,o}},serverInfoChanged:function(e,t,n){return{type:"SERVER_INFO_CHANGED",serverName:e,serverLicense:t,maxPackageSizeMb:n}},commonErrorChanged:function(e){return{type:"COMMON_ERROR_CHANGED",error:e}},avatarLoadStart:function(){return{type:"AVATAR_LOAD_START"}},avatarLoadEnd:function(){return{type:"AVATAR_LOAD_END"}},avatarLoadError:function(e){return{type:"AVATAR_LOAD_ERROR",error:e}}};var _n=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},xn=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Pn=[],Rn=[];const On=function(e){return{type:"SOUND_VOLUME_CHANGED",volume:e}},kn=function(e){return{type:"AVATAR_KEY_CHANGED",avatarKey:e}},Gn={onLoginChanged:function(e){return{type:"LOGIN_CHANGED",newLogin:e}},avatarChanged:function(e){return{type:"AVATAR_CHANGED",avatar:e}}},Mn=function(){return{type:"LOGIN_START"}},Dn=function(e){return void 0===e&&(e=null),{type:"LOGIN_END",error:e}};var Hn,Ln=n(7994),Bn=n.n(Ln);!function(e){e[e.Void=0]="Void",e[e.Text=1]="Text",e[e.Image=2]="Image",e[e.Video=3]="Video",e[e.Html=4]="Html"}(Hn||(Hn={}));const jn=Hn;var Wn;!function(e){e.Before="Before",e.Begin="Begin",e.Round="Round",e.Final="Final",e.After="After"}(Wn||(Wn={}));const Vn=Wn;function Un(e){for(var t=1,n=e.content.length/t,r=Math.min(9/t,16/n),a=2;a<e.content.length;a++){var o=Math.ceil(e.content.length/a),i=Math.min(9/a,16/o);i>r&&(r=i,t=a,n=o)}e.columnCount=n,e.weight*=t}var Fn=function(){function e(e,t,n){this.dispatch=e,this.getState=t,this.dataContext=n}return e.prototype.preprocessServerUri=function(e){var t=e.replace("<SERVERHOST>",this.dataContext.contentUris&&this.dataContext.contentUris.length>0?this.dataContext.contentUris[0]:this.dataContext.serverUri);return"https:"===location.protocol?t.replace("http://","https://"):t},e.prototype.playGameSound=function(e,t){void 0===t&&(t=!1),this.getState().settings.appSound&&this.dataContext.soundPlayer.play(e,t)},e.prototype.onScreenContent=function(e){for(var t=[],n=null,r=0;r<e.length;r++){var a=e[r],o=a.type,i=a.value;switch(o){case"text":n&&(t.push(n),Un(n),n=null);var s={weight:Math.min(u.LARGE_CONTENT_WEIGHT,Math.max(1,i.length/80)),content:[],columnCount:1};s.content.push({type:jn.Text,value:i,read:0===t.length,partial:!1}),t.push(s);break;case"image":n||(n={weight:u.LARGE_CONTENT_WEIGHT,content:[],columnCount:1}),n.content.push({type:jn.Image,value:this.preprocessServerUri(i),read:!1,partial:!1});break;case"video":n||(n={weight:u.LARGE_CONTENT_WEIGHT,content:[],columnCount:1}),n.content.push({type:jn.Video,value:this.preprocessServerUri(i),read:!1,partial:!1});break;case"html":n||(n={weight:u.LARGE_CONTENT_WEIGHT,content:[],columnCount:1}),n.content.push({type:jn.Html,value:this.preprocessServerUri(i),read:!1,partial:!1})}}n&&(t.push(n),Un(n)),this.dispatch(Ke.showContent(t))},e.prototype.onGameThemes=function(e){this.dispatch(Ke.showGameThemes(e))},e.prototype.onRoundThemes=function(e,t){var n=this.getState();"Final"!==n.room.stage.name&&t&&this.playGameSound("round_themes",!0);var r=e.map((function(e){return{name:e,questions:[]}}));this.dispatch(Ke.showRoundThemes(r,"Final"===n.room.stage.name,t)),this.dispatch(Ke.questionReset())},e.prototype.onStage=function(e,t,n){var r=this.getState();if(this.dispatch(en.stageChanged(e,n)),e!==Vn.Before&&this.dispatch(en.gameStarted(!0)),e===Vn.Round||e===Vn.Final){if(this.playGameSound("round_begin"),this.dispatch(Ke.showRound(t)),this.dispatch(en.playersStateCleared()),e===Vn.Round)for(var a=0;a<r.room.persons.players.length;a++)this.dispatch(en.playerInGameChanged(a,!0))}else e===Vn.After&&this.dispatch(Ke.showLogo());this.dispatch(en.gameStateCleared()),this.dispatch(Ke.isSelectableChanged(!1)),this.dispatch(Ke.captionChanged(""))},e.prototype.onContent=function(e,t){switch(e){case"screen":this.onScreenContent(t);break;case"replic":t[0].type;break;case"background":var n=t[0];if("audio"===n.type){var r=this.preprocessServerUri(n.value);this.dispatch(Ke.showBackgroundAudio(r))}}},e.prototype.onAnswerOption=function(e,t,n,r){this.dispatch(Ke.updateOption(e,t,"text"===n?jn.Text:jn.Image,r))},e.prototype.onThemeComments=function(e){this.dispatch(Ke.prependTextChanged(e))},e.prototype.onRightAnswerStart=function(e){this.dispatch(Ke.setAnswerView(e))},e.prototype.onContentAppend=function(e,t,n,r){this.dispatch(Ke.appendPartialText(r))},e.prototype.onContentShape=function(e){this.dispatch(Ke.showPartialText(e));var t=[{content:[{type:jn.Text,value:"",read:!1,partial:!0}],weight:1,columnCount:1}];this.dispatch(Ke.showContent(t))},e.prototype.onContentState=function(e,t,n){var r=this.getState();1===r.table.layoutMode&&"screen"===e&&t>0&&t<=r.table.answerOptions.length&&n&&this.dispatch(Ke.updateOptionState(t-1,n))},e.prototype.onAnswerOptionsLayout=function(e,t){for(var n=[],r=0;r<t.length;r++){var a=t[r];n.push({label:"",state:F.Normal,content:{type:jn[a],value:"",read:!1,partial:!1}})}this.dispatch(Ke.answerOptions(e,n))},e.prototype.onBeginPressButton=function(){this.dispatch(Ke.canPressChanged(!0))},e.prototype.onEndPressButtonByPlayer=function(e){this.dispatch(Ke.canPressChanged(!1)),this.dispatch(en.playerStateChanged(e,G.Press))},e.prototype.onEndPressButtonByTimeout=function(){this.dispatch(Ke.canPressChanged(!1)),this.playGameSound("question_noanswers"),this.dispatch(en.stopTimer(1))},e.prototype.onReplic=function(e,t){if("s"!==e)if(e.startsWith("p")&&e.length>1){var n=parseInt(e.substring(1),10);this.dispatch(en.playerReplicChanged(n,t))}else"l"===e&&this.dispatch(en.chatMessageAdded({sender:null,text:t,level:v.System}));else this.dispatch(en.showmanReplicChanged(t))},e}();const Zn=Fn;var Yn=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},zn=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function Qn(e,t){return Yn(this,void 0,void 0,(function(){var n,r,a,o,i,s,c,l,p;return zn(this,(function(d){switch(d.label){case 0:e(Nn.avatarLoadStart(null)),d.label=1;case 1:return d.trys.push([1,3,,4]),n=localStorage.getItem(u.AVATAR_KEY),r=localStorage.getItem(u.AVATAR_NAME_KEY),n&&r?(a=Uint8Array.from(window.atob(n),(function(e){return e.charCodeAt(0)})),o=a.buffer,[4,(i=t.contentClient).uploadAvatarIfNotExistAsync(r,new Blob([o]))]):[2];case 2:return s=d.sent(),c=s.startsWith("/")?i.options.serviceUri+s.substring(1):s,e(Nn.avatarLoadEnd(null)),e(Gn.avatarChanged(c)),[3,4];case 3:return l=d.sent(),p=st(l),console.log(p),e(Nn.avatarLoadError(p)),[3,4];case 4:return[2]}}))}))}var Kn=function(e){!function(e){localStorage.setItem(et,JSON.stringify(e))}({login:e.user.login,game:{name:e.game.name,password:e.game.password,role:e.game.role,type:e.game.type,playersCount:e.game.playersCount,humanPlayersCount:e.game.humanPlayersCount},settings:e.settings})};function qn(e,t,n){return Yn(this,void 0,void 0,(function(){var r,a,o;return zn(this,(function(i){switch(i.label){case 0:return[4,t.gameClient.getGameHostInfoAsync(n)];case 1:if(r=i.sent(),t.contentUris=r.ContentPublicBaseUrls,!(r.ContentInfos&&r.ContentInfos.length>0))throw new Error("No SIContent service found");return a=Math.floor(Math.random()*r.ContentInfos.length),o=r.ContentInfos[a].ServiceUri,t.contentClient=new(ye())({serviceUri:o}),r.StorageInfos&&r.StorageInfos.length>0&&(o=r.StorageInfos[0].ServiceUri,t.storageClient=new(Bn())({serviceUri:o})),e(Nn.serverInfoChanged(r.Name,r.License,r.MaxPackageSizeMb)),[2]}}))}))}var Jn={reloadComputerAccounts:function(){return function(e,t,n){return Yn(void 0,void 0,void 0,(function(){var r,a,o;return zn(this,(function(i){switch(i.label){case 0:return r=t(),a=ct(r),[4,n.gameClient.getComputerAccountsAsync(a)];case 1:return o=i.sent(),e(Nn.computerAccountsChanged(o)),[2]}}))}))}},saveStateToStorage:Kn,onConnectionChanged:function(e,t){return function(n,r,a){return Yn(void 0,void 0,void 0,(function(){var o;return zn(this,(function(i){switch(i.label){case 0:return n(Nn.isConnectedChanged(e)),(o=r()).ui.mainView===E.Game?n(en.chatMessageAdded({sender:"",text:t,level:v.System})):n(Mt.receiveMessage("",t)),e?o.ui.mainView!==E.Game?[3,2]:[4,a.gameClient.sendMessageToServerAsync("INFO")]:[2];case 1:return i.sent(),[3,3];case 2:o.ui.mainView===E.Lobby&&Mt.navigateToLobby(-1)(n,r,a),i.label=3;case 3:return[2]}}))}))}},onAvatarSelectedLocal:function(e){return function(t){return Yn(void 0,void 0,void 0,(function(){var n,r,a,o;return zn(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,e.arrayBuffer()];case 1:return n=i.sent(),r=window.btoa(new Uint8Array(n).reduce((function(e,t){return e+String.fromCharCode(t)}),"")),a=crypto.randomUUID?crypto.randomUUID():Math.random().toString(),localStorage.setItem(u.AVATAR_KEY,r),localStorage.setItem(u.AVATAR_NAME_KEY,e.name),t(kn(a)),[3,3];case 2:return o=i.sent(),t(Dn(o)),[3,3];case 3:return[2]}}))}))}},onAvatarDeleted:function(){return function(e){return Yn(void 0,void 0,void 0,(function(){return zn(this,(function(t){return localStorage.removeItem(u.AVATAR_KEY),localStorage.removeItem(u.AVATAR_NAME_KEY),e(kn("")),[2]}))}))}},sendAvatar:function(){return function(e,t,n){return Yn(void 0,void 0,void 0,(function(){return zn(this,(function(e){switch(e.label){case 0:return[4,n.gameClient.msgAsync("PICTURE",t().user.avatar)];case 1:return e.sent(),[2]}}))}))}},login:function(){return function(e,t,n){return Yn(void 0,void 0,void 0,(function(){var r,a,o,i,s,c,l,u,p,d,m,h,g,f;return zn(this,(function(y){switch(y.label){case 0:e(Mn()),r=t(),y.label=1;case 1:return y.trys.push([1,13,,14]),[4,fetch("".concat(n.serverUri,"/api/Account/LogOn"),{method:"POST",credentials:"include",body:"login=".concat(r.user.login,"&password="),headers:{"Content-Type":"application/x-www-form-urlencoded"}})];case 2:return(a=y.sent()).ok?(Kn(r),[4,a.text()]):[3,11];case 3:o=y.sent(),i="?token=".concat(encodeURIComponent(o)),s=(new pe.s).withAutomaticReconnect({nextRetryDelayInMilliseconds:function(e){return 1e3*(e.previousRetryCount+1)}}).withUrl("".concat(n.serverUri,"/sionline").concat(i)).withHubProtocol(new $e.e),c=s.build(),n.connection=c,n.gameClient=new ge(c,(function(t){return e(en.operationError(st(t)))})),n.game=new Ee(n.gameClient),y.label=4;case 4:return y.trys.push([4,9,,10]),[4,n.connection.start()];case 5:return y.sent(),n.connection.connectionId&&Pn.push(n.connection.connectionId),l=new Zn(e,t,n),function(e,t,n,r){var a=this;t.on("Joined",(function(e){return n(Mt.userJoined(e))})),t.on("Leaved",(function(e){return n(Mt.userLeaved(e))})),t.on("Say",(function(e,t){return n(Mt.receiveMessage(e,t))})),t.on("GameCreated",(function(e){return n(Mt.gameCreated(e))})),t.on("GameChanged",(function(e){return n(Mt.gameChanged(e))})),t.on("GameDeleted",(function(e){return n(Mt.gameDeleted(e))})),t.on("Receive",(function(e){return function(e,t,n){n.IsSystem?t(ln(e,n)):t(un(n))}(r,n,e)})),t.on("Disconnect",(function(){alert(S.youAreKicked),n(en.exitGame())})),t.onreconnecting((function(e){if(!Rn.includes(t)){var r=e?" (".concat(e.message,")"):"";n(Xn.onConnectionChanged(!1,"".concat(S.connectionReconnecting).concat(r)))}})),t.onreconnected((function(){Rn.includes(t)||n(Xn.onConnectionChanged(!0,S.connectionReconnected))})),t.onclose((function(r){return _n(a,void 0,void 0,(function(){return xn(this,(function(a){switch(a.label){case 0:if(Rn.includes(t))return[2];a.label=1;case 1:return a.trys.push([1,4,,5]),[4,t.start()];case 2:return a.sent(),[4,e.reconnectAsync()];case 3:return a.sent(),[2];case 4:return a.sent(),[3,5];case 5:return n(Nn.onConnectionClosed("".concat(S.connectionClosed," ").concat((null==r?void 0:r.message)||""))),[2]}}))}))}))}(n.gameClient,n.connection,e,l),u=ct(r),[4,n.gameClient.getComputerAccountsAsync(u)];case 6:return p=y.sent(),e(Nn.computerAccountsChanged(p)),[4,qn(e,n,u)];case 7:return y.sent(),[4,Qn(e,n)];case 8:return y.sent(),e(Dn()),e(Gn.onLoginChanged(r.user.login.trim())),d=new URLSearchParams(window.location.search),m=d.get("invite"),r.online.selectedGameId&&"true"==m?Mt.friendsPlay()(e,t,n):e(nt()),[3,10];case 9:return h=y.sent(),e(Dn("".concat(S.cannotConnectToServer,": ").concat(st(h)))),[3,10];case 10:return[3,12];case 11:g=function(e){switch(e.status){case 0:return S.cannotConnectToServer;case 403:return S.forbiddenNickname;case 409:return S.duplicateUserName;default:return e.statusText}}(a),e(Dn(g)),y.label=12;case 12:return[3,14];case 13:return f=y.sent(),e(Dn("".concat(S.cannotConnectToServer,": ").concat(st(f)))),[3,14];case 14:return[2]}}))}))}},onExit:function(){return function(e,t,n){return Yn(void 0,void 0,void 0,(function(){var t,r;return zn(this,(function(a){switch(a.label){case 0:if(!(t=n.connection))return[2];a.label=1;case 1:return a.trys.push([1,4,,5]),[4,n.gameClient.logOutAsync()];case 2:return a.sent(),t.connectionId&&Pn.splice(Pn.indexOf(t.connectionId),1),(o=t).off("Joined"),o.off("Leaved"),o.off("Say"),o.off("GameCreated"),o.off("GameChanged"),o.off("GameDeleted"),o.off("Receive"),o.off("Disconnect"),Rn.push(o),[4,t.stop()];case 3:return a.sent(),function(e){Rn.splice(Rn.indexOf(e),1)}(t),e(tt()),[3,5];case 4:return r=a.sent(),alert(st(r)),[3,5];case 5:return[2]}var o}))}))}},onSoundPlay:function(e,t){return function(n,r,a){return Yn(void 0,void 0,void 0,(function(){return zn(this,(function(n){return a.soundPlayer.play(e,t),[2]}))}))}},onSoundPause:function(){return function(e,t,n){return Yn(void 0,void 0,void 0,(function(){return zn(this,(function(e){return n.soundPlayer.pause(),[2]}))}))}}};const Xn=Jn;var $n=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),er=function(e){function t(t){var n=e.call(this,t)||this;return n.timerRef=null,n.fadeTimerRef=null,n.state={themeIndex:-1},n.textRef=ue.createRef(),n}return $n(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.textRef.current;if(t){var n=function(){if(e.state.themeIndex===e.props.roundThemes.length-1)return e.timerRef&&window.clearInterval(e.timerRef),void e.props.onShowRoundTable();e.setState((function(e){return{themeIndex:e.themeIndex+1}})),t.style.transform="scale(1)",e.fadeTimerRef=window.setTimeout((function(){t.style.transform="scale(0)"}),1700)};n(),this.timerRef=window.setInterval(n,1900)}},t.prototype.componentWillUnmount=function(){this.timerRef&&(window.clearTimeout(this.timerRef),this.timerRef=null),this.fadeTimerRef&&(window.clearTimeout(this.fadeTimerRef),this.fadeTimerRef=null)},t.prototype.render=function(){var e=this.state.themeIndex<this.props.roundThemes.length?this.props.roundThemes[this.state.themeIndex]:"";return ue.createElement("div",{className:"tableBorderCentered scaleText",ref:this.textRef},ue.createElement(Se,{id:"tableText",className:"tableText tableTextCenter",maxFontSize:288},e))},t}(ue.Component);const tr=(0,o.$j)((function(e){return{roundThemes:e.table.roundInfo.map((function(e){return e.name}))}}),(function(e){return{onShowRoundTable:function(){e(Ke.showRoundTable()),e(Xn.onSoundPause())}}}))(er);var nr=n(2236),rr={};rr.styleTagTransform=Ge(),rr.setAttributes=Pe(),rr.insert=_e().bind(null,"head"),rr.domAPI=Ce(),rr.insertStyleElement=Oe(),Ie()(nr.Z,rr),nr.Z&&nr.Z.locals&&nr.Z.locals;var ar=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),or=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ar(t,e),t.prototype.onSelectQuestion=function(e,t){this.props.isEditEnabled?this.props.onToggleQuestion(e,t):this.props.isSelectable&&-1!==this.props.roundInfo[e].questions[t]&&this.props.onSelectQuestion(e,t)},t.prototype.render=function(){var e=this;return ue.createElement("div",{className:"roundTable ".concat(this.props.isSelectable?"selectable":"")},this.props.roundInfo.map((function(t,n){var r=n%2==0?"right":"left",a=t.questions.some((function(e){return e>-1}));return ue.createElement("div",{key:n,className:"roundTableRow ".concat(r)},ue.createElement(Se,{className:"roundTableCell themeHeader",maxFontSize:72},a?t.name:""),t.questions.map((function(t,r){var a=t>-1,o=n===e.props.activeThemeIndex&&r===e.props.actionQuestionIndex,i="roundTableCell questHeader "+"".concat(e.props.isEditEnabled?"editable":""," ").concat(a?"active":""," ").concat(o?"blink":"");return ue.createElement(Se,{key:r,className:i,maxFontSize:144,onClick:function(){return e.onSelectQuestion(n,r)}},a?t.toString():"")})))})))},t}(ue.Component);const ir=(0,o.$j)((function(e){return{roundInfo:e.table.roundInfo,isSelectable:e.table.isSelectable,activeThemeIndex:e.table.activeThemeIndex,actionQuestionIndex:e.table.actionQuestionIndex,isEditEnabled:e.room.stage.isEditEnabled}}),(function(e){return{onSelectQuestion:function(t,n){e(en.selectQuestion(t,n))},onToggleQuestion:function(t,n){e(en.toggleQuestion(t,n))}}}))(or),sr=(0,o.$j)((function(e){return{text:e.table.text}}))((function(e){return ue.createElement("div",{className:"specialTable"},ue.createElement(Se,{className:"centerBlock specialHost rotate",maxFontSize:288},e.text))}));var cr=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return cr(t,e),t.prototype.onSelectTheme=function(e){this.props.isSelectable&&0!==this.props.roundInfo[e].name.length&&this.props.onSelectTheme(e)},t.prototype.render=function(){var e=this;return ue.createElement("div",{className:"finalTable ".concat(this.props.isSelectable?"selectable":"")},this.props.roundInfo.map((function(t,n){var r=t.name.length>0,a=e.props.activeThemeIndex===n;return ue.createElement(Se,{key:n,maxFontSize:144,className:"finalTableCell  ".concat(r?"active":""," ").concat(a?"blink":""),onClick:function(){return e.onSelectTheme(n)}},r?t.name:"")})))},t}(ue.Component);const ur=(0,o.$j)((function(e){return{roundInfo:e.table.roundInfo,isSelectable:e.table.isSelectable,activeThemeIndex:e.table.activeThemeIndex}}),(function(e){return{onSelectTheme:function(t){e(en.selectTheme(t))}}}))(lr);var pr=n(1697),dr={};dr.styleTagTransform=Ge(),dr.setAttributes=Pe(),dr.insert=_e().bind(null,"head"),dr.domAPI=Ce(),dr.insertStyleElement=Oe(),Ie()(pr.Z,dr),pr.Z&&pr.Z.locals&&pr.Z.locals;var mr=function(){return mr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},mr.apply(this,arguments)};function hr(e){var t=e.isIndeterminate?{}:{width:e.value?"calc(".concat(100*e.value,"%)"):"0"};return e.valueChangeDuration&&(t=mr(mr({},t),{animationName:"widthZero",animationFillMode:"forwards",animationDuration:"".concat(e.valueChangeDuration,"s"),animationTimingFunction:"linear"})),ue.createElement("div",{className:"progress progress-striped active ".concat(e.isIndeterminate?"indeterminate":""," ").concat(e.className),title:e.title},ue.createElement("div",{className:"progress-bar",style:t,role:"progressbar","aria-label":"progress","aria-valuenow":e.isIndeterminate?100:e.value,"aria-valuemin":0,"aria-valuemax":100}),e.children)}var gr=n(5105),fr={};fr.styleTagTransform=Ge(),fr.setAttributes=Pe(),fr.insert=_e().bind(null,"head"),fr.domAPI=Ce(),fr.insertStyleElement=Oe(),Ie()(gr.Z,fr),gr.Z&&gr.Z.locals&&gr.Z.locals;const yr=(0,o.$j)((function(e){return{text:e.table.text}}))((function(e){return ue.createElement(Se,{className:"tableText tableTextCenter tableRound",maxFontSize:288},e.text)})),Er=(0,o.$j)((function(e){return{readingSpeed:e.room.readingSpeed}}))((function(e){return ue.createElement("div",{className:"textHost"},ue.createElement(Se,{className:"tableText tableTextCenter",maxFontSize:144},e.animateReading&&e.readingSpeed>0?function(e,t){for(var n=[],r=1/t,a=0,o=0;o<e.length;o++){var i={animationDelay:"".concat(a+=r,"s")};n.push(ue.createElement("span",{key:o,className:"animatableCharacter",style:i},e[o]))}return ue.createElement("span",null,n)}(e.text,e.readingSpeed):e.text))}));var Ar=n(8990),br={};br.styleTagTransform=Ge(),br.setAttributes=Pe(),br.insert=_e().bind(null,"head"),br.domAPI=Ce(),br.insertStyleElement=Oe(),Ie()(Ar.Z,br),Ar.Z&&Ar.Z.locals&&Ar.Z.locals;var vr=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Sr=function(e){function t(t){var n=e.call(this,t)||this;return n.onImageLoad=function(){n.props.mediaLoaded(),n.spinnerRef.current&&(n.spinnerRef.current.style.display="none")},n.spinnerRef=ue.createRef(),n}return vr(t,e),t.prototype.render=function(){var e=this;return ue.createElement("div",{className:"image-host"},ue.createElement("img",{alt:"spinner",className:"spinnerImg",ref:this.spinnerRef,src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgc3R5bGU9Im1hcmdpbjogYXV0bzsgZGlzcGxheTogYmxvY2s7IHNoYXBlLXJlbmRlcmluZzogYXV0bzsiIHdpZHRoPSIyMDBweCIgaGVpZ2h0PSIyMDBweCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIHByZXNlcnZlQXNwZWN0UmF0aW89InhNaWRZTWlkIj4NCjxnIHRyYW5zZm9ybT0icm90YXRlKDAgNTAgNTApIj4NCiAgPHJlY3QgeD0iNDciIHk9IjI0IiByeD0iMyIgcnk9IjYiIHdpZHRoPSI2IiBoZWlnaHQ9IjEyIiBmaWxsPSIjOTNkYmU5Ij4NCiAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJvcGFjaXR5IiB2YWx1ZXM9IjE7MCIga2V5VGltZXM9IjA7MSIgZHVyPSIxcyIgYmVnaW49Ii0wLjkxNjY2NjY2NjY2NjY2NjZzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlPg0KICA8L3JlY3Q+DQo8L2c+PGcgdHJhbnNmb3JtPSJyb3RhdGUoMzAgNTAgNTApIj4NCiAgPHJlY3QgeD0iNDciIHk9IjI0IiByeD0iMyIgcnk9IjYiIHdpZHRoPSI2IiBoZWlnaHQ9IjEyIiBmaWxsPSIjOTNkYmU5Ij4NCiAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJvcGFjaXR5IiB2YWx1ZXM9IjE7MCIga2V5VGltZXM9IjA7MSIgZHVyPSIxcyIgYmVnaW49Ii0wLjgzMzMzMzMzMzMzMzMzMzRzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlPg0KICA8L3JlY3Q+DQo8L2c+PGcgdHJhbnNmb3JtPSJyb3RhdGUoNjAgNTAgNTApIj4NCiAgPHJlY3QgeD0iNDciIHk9IjI0IiByeD0iMyIgcnk9IjYiIHdpZHRoPSI2IiBoZWlnaHQ9IjEyIiBmaWxsPSIjOTNkYmU5Ij4NCiAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJvcGFjaXR5IiB2YWx1ZXM9IjE7MCIga2V5VGltZXM9IjA7MSIgZHVyPSIxcyIgYmVnaW49Ii0wLjc1cyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiPjwvYW5pbWF0ZT4NCiAgPC9yZWN0Pg0KPC9nPjxnIHRyYW5zZm9ybT0icm90YXRlKDkwIDUwIDUwKSI+DQogIDxyZWN0IHg9IjQ3IiB5PSIyNCIgcng9IjMiIHJ5PSI2IiB3aWR0aD0iNiIgaGVpZ2h0PSIxMiIgZmlsbD0iIzkzZGJlOSI+DQogICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0ib3BhY2l0eSIgdmFsdWVzPSIxOzAiIGtleVRpbWVzPSIwOzEiIGR1cj0iMXMiIGJlZ2luPSItMC42NjY2NjY2NjY2NjY2NjY2cyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiPjwvYW5pbWF0ZT4NCiAgPC9yZWN0Pg0KPC9nPjxnIHRyYW5zZm9ybT0icm90YXRlKDEyMCA1MCA1MCkiPg0KICA8cmVjdCB4PSI0NyIgeT0iMjQiIHJ4PSIzIiByeT0iNiIgd2lkdGg9IjYiIGhlaWdodD0iMTIiIGZpbGw9IiM5M2RiZTkiPg0KICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIHZhbHVlcz0iMTswIiBrZXlUaW1lcz0iMDsxIiBkdXI9IjFzIiBiZWdpbj0iLTAuNTgzMzMzMzMzMzMzMzMzNHMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIj48L2FuaW1hdGU+DQogIDwvcmVjdD4NCjwvZz48ZyB0cmFuc2Zvcm09InJvdGF0ZSgxNTAgNTAgNTApIj4NCiAgPHJlY3QgeD0iNDciIHk9IjI0IiByeD0iMyIgcnk9IjYiIHdpZHRoPSI2IiBoZWlnaHQ9IjEyIiBmaWxsPSIjOTNkYmU5Ij4NCiAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJvcGFjaXR5IiB2YWx1ZXM9IjE7MCIga2V5VGltZXM9IjA7MSIgZHVyPSIxcyIgYmVnaW49Ii0wLjVzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlPg0KICA8L3JlY3Q+DQo8L2c+PGcgdHJhbnNmb3JtPSJyb3RhdGUoMTgwIDUwIDUwKSI+DQogIDxyZWN0IHg9IjQ3IiB5PSIyNCIgcng9IjMiIHJ5PSI2IiB3aWR0aD0iNiIgaGVpZ2h0PSIxMiIgZmlsbD0iIzkzZGJlOSI+DQogICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0ib3BhY2l0eSIgdmFsdWVzPSIxOzAiIGtleVRpbWVzPSIwOzEiIGR1cj0iMXMiIGJlZ2luPSItMC40MTY2NjY2NjY2NjY2NjY3cyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiPjwvYW5pbWF0ZT4NCiAgPC9yZWN0Pg0KPC9nPjxnIHRyYW5zZm9ybT0icm90YXRlKDIxMCA1MCA1MCkiPg0KICA8cmVjdCB4PSI0NyIgeT0iMjQiIHJ4PSIzIiByeT0iNiIgd2lkdGg9IjYiIGhlaWdodD0iMTIiIGZpbGw9IiM5M2RiZTkiPg0KICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIHZhbHVlcz0iMTswIiBrZXlUaW1lcz0iMDsxIiBkdXI9IjFzIiBiZWdpbj0iLTAuMzMzMzMzMzMzMzMzMzMzM3MiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIj48L2FuaW1hdGU+DQogIDwvcmVjdD4NCjwvZz48ZyB0cmFuc2Zvcm09InJvdGF0ZSgyNDAgNTAgNTApIj4NCiAgPHJlY3QgeD0iNDciIHk9IjI0IiByeD0iMyIgcnk9IjYiIHdpZHRoPSI2IiBoZWlnaHQ9IjEyIiBmaWxsPSIjOTNkYmU5Ij4NCiAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJvcGFjaXR5IiB2YWx1ZXM9IjE7MCIga2V5VGltZXM9IjA7MSIgZHVyPSIxcyIgYmVnaW49Ii0wLjI1cyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiPjwvYW5pbWF0ZT4NCiAgPC9yZWN0Pg0KPC9nPjxnIHRyYW5zZm9ybT0icm90YXRlKDI3MCA1MCA1MCkiPg0KICA8cmVjdCB4PSI0NyIgeT0iMjQiIHJ4PSIzIiByeT0iNiIgd2lkdGg9IjYiIGhlaWdodD0iMTIiIGZpbGw9IiM5M2RiZTkiPg0KICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIHZhbHVlcz0iMTswIiBrZXlUaW1lcz0iMDsxIiBkdXI9IjFzIiBiZWdpbj0iLTAuMTY2NjY2NjY2NjY2NjY2NjZzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlPg0KICA8L3JlY3Q+DQo8L2c+PGcgdHJhbnNmb3JtPSJyb3RhdGUoMzAwIDUwIDUwKSI+DQogIDxyZWN0IHg9IjQ3IiB5PSIyNCIgcng9IjMiIHJ5PSI2IiB3aWR0aD0iNiIgaGVpZ2h0PSIxMiIgZmlsbD0iIzkzZGJlOSI+DQogICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0ib3BhY2l0eSIgdmFsdWVzPSIxOzAiIGtleVRpbWVzPSIwOzEiIGR1cj0iMXMiIGJlZ2luPSItMC4wODMzMzMzMzMzMzMzMzMzM3MiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIj48L2FuaW1hdGU+DQogIDwvcmVjdD4NCjwvZz48ZyB0cmFuc2Zvcm09InJvdGF0ZSgzMzAgNTAgNTApIj4NCiAgPHJlY3QgeD0iNDciIHk9IjI0IiByeD0iMyIgcnk9IjYiIHdpZHRoPSI2IiBoZWlnaHQ9IjEyIiBmaWxsPSIjOTNkYmU5Ij4NCiAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJvcGFjaXR5IiB2YWx1ZXM9IjE7MCIga2V5VGltZXM9IjA7MSIgZHVyPSIxcyIgYmVnaW49IjBzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlPg0KICA8L3JlY3Q+DQo8L2c+DQo8IS0tIFtsZGlvXSBnZW5lcmF0ZWQgYnkgaHR0cHM6Ly9sb2FkaW5nLmlvLyAtLT48L3N2Zz4="}),ue.createElement("img",{alt:"image",className:"inGameImg",src:this.props.uri,onLoad:function(){return e.onImageLoad()}}))},t}(ue.Component);const Tr=(0,o.$j)(null,(function(e){return{mediaLoaded:function(){e(en.mediaLoaded())}}}))(Sr);var Ir=/(?:\.([^.]+))?$/;function wr(e){var t=Ir.exec(e);return t&&t.length>0?t[1]:null}var Cr=n(6226),Nr={};Nr.styleTagTransform=Ge(),Nr.setAttributes=Pe(),Nr.insert=_e().bind(null,"head"),Nr.domAPI=Ce(),Nr.insertStyleElement=Oe(),Ie()(Cr.Z,Nr),Cr.Z&&Cr.Z.locals&&Cr.Z.locals;var _r=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xr=function(e){function t(t){var n=e.call(this,t)||this;return n.playPromise=null,n.play=function(){var e=n.videoRef.current;e&&(n.playPromise=e.play().catch((function(e){return n.props.operationError(st(e))})),e.muted=!1)},n.videoRef=ue.createRef(),n}return _r(t,e),t.prototype.componentDidMount=function(){if(this.videoRef.current&&0!==this.props.uri.length){this.videoRef.current.volume=this.props.soundVolume;var e=wr(this.props.uri);""===(e&&this.videoRef.current.canPlayType("video/"+e))&&this.props.operationError("".concat(S.unsupportedMediaType,": ").concat(e))}},t.prototype.componentDidUpdate=function(e){var t=this,n=this.videoRef.current;n&&(this.props.uri!==n.currentSrc&&n.load(),this.props.isMediaStopped!==e.isMediaStopped&&(this.props.isMediaStopped?this.playPromise?this.playPromise.then((function(){return n.pause()})):n.pause():this.playPromise=n.play().catch((function(e){return t.props.operationError(st(e))}))),this.props.autoPlayEnabled!==e.autoPlayEnabled&&this.play(),n.volume=this.props.soundVolume)},t.prototype.render=function(){var e=this,t=this.props,n=t.onMediaEnded,r=t.uri;return ue.createElement("div",{className:"video-host"},ue.createElement("video",{ref:this.videoRef,autoPlay:!0,onEnded:n,onLoadedData:function(){return e.props.mediaLoaded()}},ue.createElement("source",{src:r})))},t}(ue.Component);const Pr=(0,o.$j)((function(e){return{soundVolume:e.settings.soundVolume,isMediaStopped:e.room.stage.isGamePaused||e.table.isMediaStopped}}),(function(e){return{onMediaEnded:function(){e(en.onMediaEnded())},operationError:function(t){e(en.operationError(t))},mediaLoaded:function(){e(en.mediaLoaded())}}}))(xr);var Rr=n(1214),Or={};Or.styleTagTransform=Ge(),Or.setAttributes=Pe(),Or.insert=_e().bind(null,"head"),Or.domAPI=Ce(),Or.insertStyleElement=Oe(),Ie()(Rr.Z,Or),Rr.Z&&Rr.Z.locals&&Rr.Z.locals;const kr=function(e){return ue.createElement("iframe",{"aria-label":"HTML content",className:"frame",src:e.uri,allow:"autoplay",sandbox:"allow-scripts allow-same-origin allow-presentation"})};var Gr=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mr=new Audio("data:audio/wav;base64,UklGRjIAAABXQVZFZm10IBIAAAABAAEAQB8AAEAfAAABAAgAAABmYWN0BAAAAAAAAABkYXRhAAAAAA=="),Dr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.audioRef=Mr,t.playPromise=null,t.playTime=null,t.completed=!1,t.play=function(){var e=t.audioRef;t.playPromise=e.play().catch((function(e){return t.props.operationError(st(e))}))},t}return Gr(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.audioRef;if(t.onload=function(){e.props.mediaLoaded()},t.onended=function(){e.completed=!0,e.props.onMediaEnded()},t.volume=this.props.soundVolume,t.loop=!1,0!==this.props.audio.length){var n=wr(this.props.audio);""===(n&&t.canPlayType("audio/"+n))?this.props.operationError("".concat(S.unsupportedMediaType,": ").concat(n)):(this.completed=!1,t.src=this.props.audio,t.load(),this.play(),t.readyState>=3&&this.props.mediaLoaded())}},t.prototype.componentDidUpdate=function(e){var t=this.audioRef;if(""!=this.props.audio){if(this.props.audio!==t.currentSrc){var n=wr(this.props.audio);""===(n&&t.canPlayType("audio/"+n))?this.props.operationError("".concat(S.unsupportedMediaType,": ").concat(n)):(this.completed=!1,this.playTime=null,t.src=this.props.audio,t.load(),this.props.isMediaStopped||this.play(),t.readyState>=3&&this.props.mediaLoaded())}this.props.isMediaStopped!==e.isMediaStopped&&(this.props.isMediaStopped?this.pause():this.completed||(this.playTime&&(t.currentTime=this.playTime),this.play())),this.props.autoPlayEnabled!==e.autoPlayEnabled&&this.props.autoPlayEnabled&&this.play(),t.volume=this.props.soundVolume}},t.prototype.pause=function(){var e=this,t=this.audioRef;t.paused||(this.playPromise?this.playPromise.then((function(){e.playTime=t.currentTime,t.pause()})):(this.playTime=t.currentTime,t.pause()))},t.prototype.componentWillUnmount=function(){this.pause()},t.prototype.render=function(){return 0===this.props.audio.length?null:ue.createElement(ue.Fragment,null)},t}(ue.Component);const Hr=(0,o.$j)((function(e){return{soundVolume:e.settings.soundVolume,audio:e.table.audio,isMediaStopped:e.room.stage.isGamePaused||e.table.isMediaStopped}}),(function(e){return{onMediaEnded:function(){e(en.onMediaEnded())},onSoundVolumeChange:function(t){e(On(t))},operationError:function(t){e(en.operationError(t))},mediaLoaded:function(){e(en.mediaLoaded())}}}))(Dr);var Lr=n(1651),Br={};Br.styleTagTransform=Ge(),Br.setAttributes=Pe(),Br.insert=_e().bind(null,"head"),Br.domAPI=Ce(),Br.insertStyleElement=Oe(),Ie()(Lr.Z,Br),Lr.Z&&Lr.Z.locals&&Lr.Z.locals;var jr=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.changeVolumeHandler=function(e){t.props.onSoundVolumeChange(Number(e.target.value))},t}return jr(t,e),t.prototype.render=function(){return ue.createElement(ue.Fragment,null,ue.createElement("button",{type:"button",onClick:this.props.toggleVisibility,className:"volumeButton",style:{background:this.props.isVolumeControlVisible?"lightgrey":"none"},title:this.props.soundVolume?S.enableSound:S.disableSound},this.props.soundVolume&&this.props.canPlayAudio?"🔈":"🔇"),ue.createElement("input",{"aria-label":"Volume range",min:0,max:1,step:.1,type:"range",value:this.props.soundVolume,onChange:this.changeVolumeHandler,style:{display:this.props.isVolumeControlVisible?"block":"none"},className:"volumeButtonControl"}))},t}(ue.Component);const Vr=(0,o.$j)((function(e){return{soundVolume:e.settings.soundVolume}}),(function(e){return{onSoundVolumeChange:function(t){e(On(t))}}}))(Wr);var Ur=n(9394),Fr={};Fr.styleTagTransform=Ge(),Fr.setAttributes=Pe(),Fr.insert=_e().bind(null,"head"),Fr.domAPI=Ce(),Fr.insertStyleElement=Oe(),Ie()(Ur.Z,Fr),Ur.Z&&Ur.Z.locals&&Ur.Z.locals;const Zr=(0,o.$j)((function(e){return{options:e.table.answerOptions,isSelectable:e.table.isSelectable}}),(function(e){return{onSelectAnswerOption:function(t){e(en.selectAnswerOption(t))}}}))((function(e){function t(e){switch(e){case F.Active:return"active";case F.Right:return"right";case F.Wrong:return"wrong";default:return"normal"}}return ue.createElement("div",{className:"answerOptions ".concat(e.isSelectable?"selectable":"")},e.options.map((function(n,r){return ue.createElement("div",{key:r,className:"answerOption ".concat(t(n.state)),onClick:function(){return e.onSelectAnswerOption(n.label)}},ue.createElement("div",{className:"optionLabel"},n.label),ue.createElement("div",{className:"optionContent"},function(e){switch(e.type){case jn.Text:return ue.createElement(Er,{text:e.value,animateReading:e.read});case jn.Image:return ue.createElement(Tr,{uri:e.value});default:return null}}(n.content)))})))}));var Yr=n(382),zr={};zr.styleTagTransform=Ge(),zr.setAttributes=Pe(),zr.insert=_e().bind(null,"head"),zr.domAPI=Ce(),zr.insertStyleElement=Oe(),Ie()(Yr.Z,zr),Yr.Z&&Yr.Z.locals&&Yr.Z.locals;var Qr=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kr=function(e){function t(t){var n=e.call(this,t)||this;return n.animationStart=0,n.textRef=ue.createRef(),n.tailRef=ue.createRef(),n}return Qr(t,e),t.prototype.componentDidMount=function(){var e=this;this.interval=window.setInterval((function(){e.animationStart=Math.max(0,e.animationStart-.1)}),100)},t.prototype.componentWillUnmount=function(){this.interval&&window.clearInterval(this.interval)},t.prototype.convertToAnimatable=function(e){for(var t="",n=0===this.props.readingSpeed?0:1/this.props.readingSpeed,r=0;r<e.length;r++){this.animationStart+=n;var a="animation-delay: ".concat(this.animationStart,"s");t+='<span class="animatablePartialCharacter" style="'.concat(a,'">').concat(e[r],"</span>")}return"".concat(t,"<span></span>")},t.prototype.shouldComponentUpdate=function(e){if(e.text!==this.props.text&&this.textRef.current&&this.tailRef.current){for(var t=this.textRef.current;t.lastChild;)t=t.lastChild;t.innerHTML+=this.convertToAnimatable(e.text.substring(this.props.text.length)),this.tailRef.current.innerHTML=this.tailRef.current.innerHTML.substring(e.text.length-this.props.text.length)}return!1},t.prototype.render=function(){return ue.createElement("div",{className:"textHost"},ue.createElement(Se,{className:"tableText nonAligned",maxFontSize:144},ue.createElement("span",{ref:this.textRef,key:"text"},this.props.text),ue.createElement("span",{ref:this.tailRef,key:"tail",className:"invisible"},this.props.tail)))},t}(ue.Component);const qr=(0,o.$j)((function(e){return{text:e.table.text,tail:e.table.tail,readingSpeed:e.room.readingSpeed}}))(Kr);var Jr=n(3920),Xr={};Xr.styleTagTransform=Ge(),Xr.setAttributes=Pe(),Xr.insert=_e().bind(null,"head"),Xr.domAPI=Ce(),Xr.insertStyleElement=Oe(),Ie()(Jr.Z,Xr),Jr.Z&&Jr.Z.locals&&Jr.Z.locals;var $r=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ea=function(){return ea=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ea.apply(this,arguments)},ta=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},na=new AudioContext;var ra=function(e){function t(t){var n=e.call(this,t)||this;return n.audioContextEventListener=function(){},n.toggleVisibility=function(){n.state.canPlayAudio?n.setState((function(e){return ea(ea({},e),{isVolumeControlVisible:!n.state.isVolumeControlVisible})})):(na.resume(),na.createGain(),n.setState({canPlayAudio:!0}))},n.state={canPlayAudio:"running"===na.state,isVolumeControlVisible:!1},n}return $r(t,e),t.prototype.componentDidMount=function(){var e=this;this.audioContextEventListener=function(){var t="running"===na.state;e.setState({canPlayAudio:t}),t&&na.removeEventListener("statechange",e.audioContextEventListener)},na.addEventListener("statechange",this.audioContextEventListener),na.resume().then(this.audioContextEventListener)},t.prototype.componentWillUnmount=function(){na.removeEventListener("statechange",this.audioContextEventListener)},t.prototype.getAudioContent=function(){return this.props.audio.length>0?ue.createElement("div",{className:"centerBlock"},ue.createElement("span",{className:"clef rotate"},"&")):null},t.prototype.render=function(){var e=this,t=this.props.content;if(this.props.attachContentToTable&&(this.props.audio.length>0&&0===t.length||0===this.props.audio.length&&1===t.length&&1===t[0].content.length&&t[0].content[0].type!==jn.Text))if(this.props.appendText.length>0){var n=Math.min(u.LARGE_CONTENT_WEIGHT,Math.max(1,this.props.appendText.length/80));t=ta(ta([],t,!0),[{columnCount:1,weight:n,content:[{type:jn.Text,value:this.props.appendText,read:!1,partial:!1}]}],!1)}else this.props.prependText.length>0&&(n=Math.min(u.LARGE_CONTENT_WEIGHT,Math.max(1,this.props.prependText.length/80)),t=ta([{columnCount:1,weight:n,content:[{type:jn.Text,value:this.props.prependText,read:!1,partial:!1}]}],t,!0));var r=this.props.audio.length>0||t.some((function(e){return e.content.some((function(e){return e.type===jn.Video}))})),a=ue.createElement("div",{className:"mainContent"},t.length>0?t.map((function(t,n){return r=t,a=n,o=e.state.canPlayAudio,ue.createElement("div",{key:a,className:"table-content-group",style:{flex:"".concat(r.weight),gridTemplateColumns:"repeat(".concat(r.columnCount,", 1fr)")}},r.content.map((function(e,t){return function(e,t,n){switch(e.type){case jn.Text:return e.partial?ue.createElement(qr,{key:t}):ue.createElement(Er,{key:t,text:e.value,animateReading:e.read});case jn.Image:return ue.createElement(Tr,{key:t,uri:e.value});case jn.Video:return ue.createElement(Pr,{key:t,uri:e.value,autoPlayEnabled:n});case jn.Html:return ue.createElement(kr,{key:t,uri:e.value});default:return null}}(e,t,o)})));var r,a,o})):this.getAudioContent());return ue.createElement(Ue,null,ue.createElement("div",{className:"table-content"},function(e,t){return 0===e?t:ue.createElement("div",{className:"optionsLayout"},t,ue.createElement(Zr,null))}(this.props.layoutMode,a),r?ue.createElement(Vr,{canPlayAudio:this.state.canPlayAudio,isVolumeControlVisible:this.state.isVolumeControlVisible,toggleVisibility:this.toggleVisibility}):null,ue.createElement(Hr,{autoPlayEnabled:this.state.canPlayAudio})))},t}(ue.Component);const aa=(0,o.$j)((function(e){return{content:e.table.content,audio:e.table.audio,layoutMode:e.table.layoutMode,prependText:e.table.prependText,appendText:e.table.appendText,attachContentToTable:e.settings.attachContentToTable}}))(ra);var oa=n(5723),ia={};ia.styleTagTransform=Ge(),ia.setAttributes=Pe(),ia.insert=_e().bind(null,"head"),ia.domAPI=Ce(),ia.insertStyleElement=Oe(),Ie()(oa.Z,ia),oa.Z&&oa.Z.locals&&oa.Z.locals;const sa=(0,o.$j)((function(e){return{isConnected:e.common.isConnected,mode:e.table.mode,isPaused:e.room.stage.isGamePaused,isEditEnabled:e.room.stage.isEditEnabled,showMainTimer:e.room.showMainTimer,decisionTimer:e.room.timers.decision,caption:e.table.caption,windowWidth:e.ui.windowWidth}}))((function(e){var t=function(e){switch(e.mode){case 2:case 10:return e.caption;default:return null}}(e);return ue.createElement("div",{id:"table"},t?ue.createElement("div",{className:"tableCaption"},t):null,ue.createElement("div",{className:"tableContent"},function(e){switch(e){case 1:return ue.createElement(je,null);case 5:return ue.createElement(yr,null);case 2:return ue.createElement(Ye,null);case 10:return ue.createElement(aa,null);case 3:return ue.createElement(ze,null);case 4:return ue.createElement(Xe,null);case 6:return ue.createElement(tr,null);case 7:return ue.createElement(ir,null);case 8:return ue.createElement(sr,null);case 9:return ue.createElement(ur,null);default:return null}}(e.mode)),e.showMainTimer?ue.createElement(hr,{className:"commonProgress ".concat(t?"captioned":""),value:1-e.decisionTimer.value/e.decisionTimer.maximum,valueChangeDuration:H(e.decisionTimer)?(e.decisionTimer.maximum-e.decisionTimer.value)/10:0}):null,e.isPaused&&!e.isEditEnabled||!e.isConnected?ue.createElement(Se,{maxFontSize:288,className:"pauseLogo tableText tableTextCenter ".concat(e.isConnected?"":"warning")},e.isPaused?S.pause:S.connectionClosed):null)}));var ca=n(1954),la={};la.styleTagTransform=Ge(),la.setAttributes=Pe(),la.insert=_e().bind(null,"head"),la.domAPI=Ce(),la.insertStyleElement=Oe(),Ie()(ca.Z,la),ca.Z&&ca.Z.locals&&ca.Z.locals;var ua=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pa=function(e){function t(t){var n=e.call(this,t)||this;return n.onValueChanged=function(e){var t=e.target.value;n.setState((function(){return{value:t}}))},n.onFocus=function(e){e.target.select()},n.onBlur=function(){var e=parseInt(n.state.value,10);n.props.value!==e&&n.props.onValueChanged(e)},n.onKeyDown=function(e){if(e.keyCode===u.KEY_ENTER){var t=parseInt(n.state.value,10);n.props.value!==t?n.props.onValueChanged(t):n.props.onCancel()}else e.keyCode===u.KEY_ESCAPE&&n.props.onCancel()},n.state={value:t.value.toString()},n}return ua(t,e),t.prototype.componentDidUpdate=function(e){var t=this;e.value!==this.props.value&&this.setState((function(){return{value:t.props.value.toString()}}))},t.prototype.render=function(){return ue.createElement("input",{className:"numericTextBox",type:"text",value:this.state.value,onChange:this.onValueChanged,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown})},t}(ue.Component);const da=pa;var ma=n(8710),ha={};ha.styleTagTransform=Ge(),ha.setAttributes=Pe(),ha.insert=_e().bind(null,"head"),ha.domAPI=Ce(),ha.insertStyleElement=Oe(),Ie()(ma.Z,ha),ma.Z&&ma.Z.locals&&ma.Z.locals;var ga=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fa=function(e){function t(t){var n=e.call(this,t)||this;return n.moveReplic=function(){if(!(n.props.windowHeight<600&&n.props.windowWidth>600)){var e=n.props.windowWidth>=u.WIDE_WINDOW_WIDTH,t=n.props.showPersonsAtBottomOnWideScreen&&e,r=n.replicRef.current,a=n.listRef.current;if(null!==r&&null!==a){r.style.transform="translate(-50%,0)";var o=r.getBoundingClientRect(),i=a.getBoundingClientRect(),s=null,c=null;o.left<i.left?s="calc(-50% + ".concat(i.left-o.left+1,"px)"):o.right>i.right&&(s="calc(-50% - ".concat(o.right-i.right+1,"px)")),!t&&o.top<i.top?c="calc(".concat(i.top-o.top+1,"px)"):t&&o.bottom>i.bottom&&(c="calc(".concat(i.bottom-o.bottom-1,"px)")),(s||c)&&(r.style.transform="translate(".concat(null!=s?s:"-50%",",").concat(null!=c?c:0,")"))}}},n.replicRef=ue.createRef(),n.listRef=ue.createRef(),n}return ga(t,e),t.prototype.componentDidMount=function(){this.moveReplic()},t.prototype.componentDidUpdate=function(){this.moveReplic()},t.prototype.render=function(){var e=this,t=Object.keys(this.props.players).length,n=this.props.windowWidth<800?2.5:1,r={fontSize:"".concat(15.5-.2*t*n,"px")},a=function(t,n,r){var a,o="state_".concat((null!==(a=G[t.state])&&void 0!==a?a:"").toLowerCase()),i=n?"me":"",s=t.inGame?"":"out_of_game",c=r&&e.props.isSelectionEnabled?"selectable":"";return"gamePlayer ".concat(o," ").concat(i," ").concat(s," ").concat(c)};return ue.createElement("div",{id:"playersPanel"},ue.createElement("ul",{className:"gamePlayers",style:r,ref:this.listRef},this.props.players.map((function(t,n){var r=e.props.all[t.name],o=t.name===e.props.login,i=o&&e.props.avatar?e.props.avatar:null==r?void 0:r.avatar,s=i?{backgroundImage:'url("'.concat(i,'")')}:{},c=function(e){return e?0===e.sex?"avatarMale":"avatarFemale":null}(r),l=t.stake>0?t.stake.toString():t.stake===u.HIDDEN_STAKE?"######":null;return ue.createElement("li",{key:"".concat(t.name,"_").concat(n),className:a(t,o,t.canBeSelected),onClick:function(r){return t.canBeSelected?function(t,n){e.props.onPlayerSelected(t),n.stopPropagation()}(n,r):null}},ue.createElement("div",{className:"playerCard"},ue.createElement("div",{className:"playerAvatar ".concat(c),style:s,title:"".concat(t.name," ").concat(t.sum)}),ue.createElement("div",{className:"playerInfo"},ue.createElement("div",{className:"name",title:t.name},ue.createElement("span",null,t.name!=u.ANY_NAME?t.name:"​")),ue.createElement("div",{className:"sum",title:t.sum.toString()},e.props.isSumEditable?ue.createElement(da,{value:t.sum,onValueChanged:function(t){return function(t,n){e.props.onSumChanged(t,n),e.props.onCancelSumChange()}(n,t)},onCancel:e.props.onCancelSumChange}):ue.createElement("span",null,t.sum)),ue.createElement("div",{className:"stakeHost"},ue.createElement("span",{className:"stake"},null!=l?l:"​")))),t.replic&&t.replic.length>0?ue.createElement("div",{ref:e.replicRef,className:"playerReplic"},ue.createElement(Se,{id:"playerReplic_".concat(n),className:"playerReplicText",maxFontSize:48},t.replic),ue.createElement("div",{className:"replicLink"})):null,t.isDeciding?ue.createElement(hr,{value:1-e.props.decisionTimer.value/e.props.decisionTimer.maximum,valueChangeDuration:H(e.props.decisionTimer)?(e.props.decisionTimer.maximum-e.props.decisionTimer.value)/10:0}):null,ue.createElement("div",{className:"marksArea"},t.isReady&&!e.props.hasGameStarted?ue.createElement("span",{className:"readyMark",role:"img","aria-label":"checkmark",title:1===(null==r?void 0:r.sex)?S.readyFemale:S.readyMale},"✔️"):null,t.isChooser?ue.createElement("div",{className:"chooserMark",title:S.chooserMark}):null,t.mediaLoaded?ue.createElement("div",{className:"mediaLoadedMark",title:S.mediaLoadedMark}):null))}))))},t}(ue.Component);const ya=(0,o.$j)((function(e){return{players:e.room.persons.players,all:e.room.persons.all,login:e.user.login,avatar:e.user.avatar,isSelectionEnabled:e.room.selection.isEnabled,isSumEditable:e.room.areSumsEditable,decisionTimer:e.room.timers.decision,hasGameStarted:e.room.stage.isGameStarted,windowWidth:e.ui.windowWidth,windowHeight:e.ui.windowHeight,showPersonsAtBottomOnWideScreen:e.settings.showPersonsAtBottomOnWideScreen}}),(function(e){return{onPlayerSelected:function(t){e(en.playerSelected(t))},onSumChanged:function(t,n){e(en.changePlayerSum(t,n))},onCancelSumChange:function(){e(en.areSumsEditableChanged(!1))},onShowTables:function(){e(en.runShowTables())}}}))(fa);var Ea=function(){return Ea=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Ea.apply(this,arguments)};function Aa(e,t){var n=document.getElementById(e);if(n){var r=(new pe.s).withUrl("http://fake").build(),s=new ge(r,(function(){})),c={config:{siStatisticsServiceUri:""},serverUri:"",connection:null,gameClient:s,game:new Ee(s),contentUris:null,contentClient:new(ye())({serviceUri:"http://fake"}),storageClient:null,soundPlayer:{play:function(){},pause:function(){}}},l=(0,i.MT)(ce,Ea(Ea({},w),{table:Ea(Ea({},w.table),{mode:0})}),(0,i.md)(le.Z.withExtraArgument(c))),u=new Zn(l.dispatch,l.getState,c);if(window.chrome){var p=window.chrome.webview;p&&p.addEventListener("message",(function(e){var t=e.data;!function(e,t){switch(t.type){case"answerOptionsLayout":e.onAnswerOptionsLayout(t.questionHasScreenContent,t.typeNames);break;case"content":e.onContent(t.placement,t.content);break;case"replic":e.onReplic(t.personCode,t.text);break;case"answerOption":e.onAnswerOption(t.index,t.label,t.contentType,t.contentValue);break;case"beginPressButton":e.onBeginPressButton();break;case"endPressButtonByTimeout":e.onEndPressButtonByTimeout();break;case"contentState":e.onContentState(t.placement,t.layoutId,t.itemState)}}(u,t)}))}a.render(ue.createElement(o.zt,{store:l},0===t?ue.createElement("div",{className:"replicAndTable"},ue.createElement(He,null),ue.createElement(sa,null)):ue.createElement("div",{className:"playersAndTable"},ue.createElement(ya,null),ue.createElement(sa,null))),n)}else console.error("host element not found!")}},3990:(e,t,n)=>{e.exports=n.p+"c27a1eb9cb825aea1285.png"},2271:(e,t,n)=>{e.exports=n.p+"bbd4f3377a10f9c84cc7.png"}},n={};function r(e){var a=n[e];if(void 0!==a)return a.exports;var o=n[e]={id:e,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.exports}r.m=t,e=[],r.O=(t,n,a,o)=>{if(!n){var i=1/0;for(u=0;u<e.length;u++){for(var[n,a,o]=e[u],s=!0,c=0;c<n.length;c++)(!1&o||i>=o)&&Object.keys(r.O).every((e=>r.O[e](n[c])))?n.splice(c--,1):(s=!1,o<i&&(i=o));if(s){e.splice(u--,1);var l=a();void 0!==l&&(t=l)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[n,a,o]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="",(()=>{r.b=document.baseURI||self.location.href;var e={179:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var a,o,[i,s,c]=n,l=0;if(i.some((t=>0!==e[t]))){for(a in s)r.o(s,a)&&(r.m[a]=s[a]);if(c)var u=c(r)}for(t&&t(n);l<i.length;l++)o=i[l],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(u)},n=self.webpackChunksigame=self.webpackChunksigame||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),r.nc=void 0;var a=r.O(void 0,[736],(()=>r(9304)));a=r.O(a),sigame=a})();